var _=Object.defineProperty;var q=(l,s,i)=>s in l?_(l,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[s]=i;var C=(l,s,i)=>q(l,typeof s!="symbol"?s+"":s,i);import{r as k,j as e,u as J,a as H,L as Z,z as I,P as L}from"./main-NgkaoAeE.js";import{E as Y}from"./ExportImportManager-Bl5Bo7iH.js";import{d as Q}from"./dataManager-C8rOmH55.js";import{E as X}from"./utils-Amc2d86L.js";class P{static normalizePlayerName(s){return s?s.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[''`]/g,"").replace(/[.,-]/g," ").replace(/\s+/g," ").trim():""}static async loadLocalJsonFile(){try{if(this.jsonCache)return console.log("üì¶ Using cached JSON data"),this.jsonCache;console.log("üì• Loading local JSON file: sofifa_my_players_app.json");const s=await fetch("./sofifa_my_players_app.json");if(!s.ok)throw new Error(`Failed to load JSON: ${s.status}`);const i=await s.json();return this.jsonCache=i,console.log(`‚úÖ Loaded ${i.length} players from local JSON file`),i}catch(s){return console.warn("‚ö†Ô∏è Failed to load local JSON file:",s.message),null}}static async searchInLocalJson(s,i){try{const t=await this.loadLocalJsonFile();if(!t)return null;if(i){const a=t.find(n=>n.id===i||n.id===String(i));if(a)return console.log(`üéØ Found player by ID in JSON: ${a.name}`),this.transformJsonPlayerData(a)}if(s){const a=this.normalizePlayerName(s);let n=t.find(o=>this.normalizePlayerName(o.name)===a);if(n||(n=t.find(o=>{const r=this.normalizePlayerName(o.name);return r.includes(a)||a.includes(r)})),!n){const o=a.split(" ").filter(r=>r.length>2);o.length>0&&(n=t.find(r=>{const u=this.normalizePlayerName(r.name);return o.every(d=>u.includes(d))}))}if(n)return console.log(`üéØ Found player by name in JSON: ${n.name} (searched: ${s})`),this.transformJsonPlayerData(n)}return null}catch(t){return console.warn("‚ö†Ô∏è Error searching in local JSON:",t.message),null}}static transformJsonPlayerData(s){var i,t,a,n,o,r;return{overall:s.overall||75,potential:s.potential||s.overall||75,source:"local_json",lastUpdated:new Date().toISOString(),sofifaId:s.id,playerName:s.name,age:s.age,nationality:s.nationality,positions:s.positions,height:s.height_cm,weight:s.weight_kg,preferredFoot:s.preferred_foot,weakFoot:s.weak_foot,skillMoves:s.skill_moves,workRate:s.work_rate,pace:((i=s.main_attributes)==null?void 0:i.pace)||70,shooting:((t=s.main_attributes)==null?void 0:t.shooting)||70,passing:((a=s.main_attributes)==null?void 0:a.passing)||70,dribbling:((n=s.main_attributes)==null?void 0:n.dribbling)||70,defending:((o=s.main_attributes)==null?void 0:o.defending)||70,physical:((r=s.main_attributes)==null?void 0:r.physical)||70,detailedSkills:s.detailed_skills||{}}}static async fetchPlayerData(s,i,t=null){try{const a=`${i}`,n=this.cache.get(a);if(n&&Date.now()-n.timestamp<this.CACHE_DURATION)return console.log(`üì¶ Cache hit for SoFIFA ID: ${i}`),n.data;console.log(`üîç Checking local JSON file for player: ${t||"ID:"+i}`);const o=await this.searchInLocalJson(t,i);if(o)return this.cache.set(a,{data:o,timestamp:Date.now()}),o;if(!this.checkRateLimit())return console.warn("‚ö†Ô∏è Rate limit exceeded for SoFIFA requests"),null;console.log(`üåê Player not found in JSON, attempting external SoFIFA fetch: ${s}`);const r=[()=>this.fetchWithCorsProxy(s),()=>this.fetchWithAllowOrigins(s),()=>this.fetchWithServerProxy(s),()=>this.parsePlayerIdFromUrl(s)];for(const u of r)try{const d=await u();if(d)return this.cache.set(a,{data:d,timestamp:Date.now()}),d}catch(d){console.warn(`‚ùå Strategy failed: ${d.message}`);continue}return console.warn(`‚ö†Ô∏è All SoFIFA fetch strategies failed for: ${s}`),null}catch(a){return console.error("‚ùå Error fetching SoFIFA data:",a.message),null}}static checkRateLimit(){const s=Date.now();return s>this.rateLimit.resetTime&&(this.rateLimit.requests=0,this.rateLimit.resetTime=s+6e4),this.rateLimit.requests>=this.rateLimit.maxRequests?!1:(this.rateLimit.requests++,!0)}static async fetchWithCorsProxy(s){const i=[`https://cors-anywhere.herokuapp.com/${s}`,`https://api.allorigins.win/get?url=${encodeURIComponent(s)}`,`https://thingproxy.freeboard.io/fetch/${s}`];for(const t of i)try{console.log(`üîÑ Trying CORS proxy: ${t.split("/")[2]}`);const a=new AbortController,n=setTimeout(()=>a.abort(),1e4),o=await fetch(t,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"},signal:a.signal});if(clearTimeout(n),o.ok){let r=await o.text();t.includes("allorigins.win")&&(r=JSON.parse(r).contents);const u=this.parsePlayerDataFromHTML(r);if(u)return console.log(`‚úÖ Successfully fetched via proxy: ${t.split("/")[2]}`),u}}catch(a){console.warn(`‚ùå Proxy failed (${t.split("/")[2]}): ${a.message}`);continue}return null}static async fetchWithAllowOrigins(s){try{console.log("üîÑ Trying direct fetch with CORS headers");const i=await fetch(s,{method:"GET",mode:"cors",headers:{Origin:window.location.origin,Referer:window.location.origin,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(i.ok){const t=await i.text(),a=this.parsePlayerDataFromHTML(t);if(a)return console.log("‚úÖ Direct fetch successful"),a}}catch(i){console.warn("‚ùå Direct fetch failed (expected due to CORS):",i.message)}return null}static async fetchWithServerProxy(s){try{const i="/api/proxy-sofifa";console.log("üîÑ Trying server proxy");const t=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:s})});if(t.ok){const a=await t.json();if(a.success&&a.html){const n=this.parsePlayerDataFromHTML(a.html);if(n)return console.log("‚úÖ Server proxy successful"),n}}}catch(i){console.warn("‚ùå Server proxy not available:",i.message)}return null}static parsePlayerIdFromUrl(s){try{console.log("üîÑ Parsing player ID from URL structure");const i=s.match(/player\/(\d+)\/([^\/]+)\/(\d+)/);if(i){const[,t,a,n]=i,o=a.replace(/-/g," ").replace(/\b\w/g,r=>r.toUpperCase());return console.log(`üìù Extracted from URL: ID ${t}, Name: ${o}`),{sofifaId:parseInt(t),extractedName:o,versionId:parseInt(n),source:"url_parsing",timestamp:Date.now()}}}catch(i){console.warn("‚ùå URL parsing failed:",i.message)}return null}static parsePlayerDataFromHTML(s){try{console.log("üîç Parsing HTML for player data...");const t=new DOMParser().parseFromString(s,"text/html"),a={source:"sofifa_live",timestamp:Date.now()},n=t.querySelector(".bp-overall");n&&(a.overall=parseInt(n.textContent.trim()));const o=t.querySelector(".bp-potential");o&&(a.potential=parseInt(o.textContent.trim()));const r=t.querySelector("h1[data-title]")||t.querySelector(".player-name");r&&(a.name=r.textContent.trim());const u=t.querySelectorAll(".bp-positions .badge");u.length>0&&(a.positions=Array.from(u).map(g=>g.textContent.trim()));const d=t.querySelector(".bp-age");d&&(a.age=parseInt(d.textContent.trim()));const m=t.querySelector(".bp-club a");m&&(a.club=m.textContent.trim());const v=t.querySelector(".bp-nationality a");return v&&(a.nationality=v.textContent.trim()),a.overall||a.name?(console.log(`‚úÖ Successfully parsed player data: ${a.name||"Unknown"} (Overall: ${a.overall||"N/A"})`),a):(console.warn("‚ö†Ô∏è No meaningful data found in HTML"),null)}catch(i){return console.error("‚ùå Error parsing HTML:",i.message),null}}static clearCache(){this.cache.clear(),console.log("üóëÔ∏è SoFIFA cache cleared")}static getCacheStats(){return{size:this.cache.size,entries:Array.from(this.cache.keys()),rateLimit:this.rateLimit}}static async searchPlayerByName(s){if(!s||typeof s!="string")return null;try{if(!this.checkRateLimit())return console.warn("‚ö†Ô∏è Rate limit exceeded for SoFIFA search"),null;console.log(`üîç Searching SoFIFA for: ${s}`);const i=`https://sofifa.com/players?keyword=${encodeURIComponent(s)}`,t=[()=>this.searchWithCorsProxy(i,s),()=>this.searchWithAllowOrigins(i,s),()=>this.generateSearchResult(s)];for(const a of t)try{const n=await a();if(n)return console.log(`‚úÖ Search successful for: ${s}`),n}catch(n){console.warn(`‚ùå Search strategy failed: ${n.message}`);continue}return console.warn(`‚ö†Ô∏è All search strategies failed for: ${s}`),null}catch(i){return console.error("‚ùå Error searching SoFIFA:",i.message),null}}static async searchWithCorsProxy(s,i){const t=[`https://api.allorigins.win/get?url=${encodeURIComponent(s)}`,`https://cors-anywhere.herokuapp.com/${s}`];for(const a of t)try{console.log(`üîÑ Searching via proxy: ${a.split("/")[2]}`);const n=new AbortController,o=setTimeout(()=>n.abort(),15e3),r=await fetch(a,{method:"GET",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},signal:n.signal});if(clearTimeout(o),r.ok){let u=await r.text();a.includes("allorigins.win")&&(u=JSON.parse(u).contents);const d=this.parseSearchResults(u,i);if(d)return d}}catch(n){console.warn(`‚ùå Proxy search failed (${a.split("/")[2]}): ${n.message}`);continue}return null}static async searchWithAllowOrigins(s,i){try{console.log("üîÑ Trying direct search");const t=await fetch(s,{method:"GET",mode:"cors",headers:{Origin:window.location.origin,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(t.ok){const a=await t.text(),n=this.parseSearchResults(a,i);if(n)return n}}catch(t){console.warn("‚ùå Direct search failed (expected due to CORS):",t.message)}return null}static parseSearchResults(s,i){try{const n=new DOMParser().parseFromString(s,"text/html").querySelectorAll("tbody tr[data-row]");if(n.length===0)return console.log("No player cards found in search results"),null;const o=n[0],r={source:"sofifa_search",searchName:i,timestamp:Date.now()},u=o.querySelector("a[data-tooltip]");if(u){r.name=u.textContent.trim(),r.sofifaUrl="https://sofifa.com"+u.getAttribute("href");const x=r.sofifaUrl.match(/player\/(\d+)/);x&&(r.sofifaId=parseInt(x[1]))}const d=o.querySelector(".col-oa span");d&&(r.overall=parseInt(d.textContent.trim()));const m=o.querySelectorAll(".col-name .pos");m.length>0&&(r.positions=Array.from(m).map(x=>x.textContent.trim()));const v=o.querySelector(".col-ae");v&&(r.age=parseInt(v.textContent.trim()));const g=o.querySelector(".col-team a");return g&&(r.club=g.textContent.trim()),r.name&&r.overall?(console.log(`‚úÖ Parsed search result: ${r.name} (${r.overall})`),r):null}catch(t){return console.error("‚ùå Error parsing search results:",t.message),null}}static generateSearchResult(s){return console.log(`üé≤ Generating basic search result for: ${s}`),{name:s,searchName:s,overall:70+Math.floor(Math.random()*15),source:"search_generated",timestamp:Date.now(),generated:!0}}static validateSofifaUrl(s){if(!s||typeof s!="string")return{valid:!1,error:"URL is required and must be a string"};const i=/^https:\/\/sofifa\.com\/player\/(\d+)/,t=s.match(i);if(!t)return{valid:!1,error:"Invalid SoFIFA URL format"};const a=parseInt(t[1]);return/^https:\/\/sofifa\.com\/player\/(\d+)\/?$/.test(s)?{valid:!0,playerId:a,type:"canonical",note:"Canonical ID URL - guaranteed correct player"}:/^https:\/\/sofifa\.com\/player\/(\d+)\/\?r=250001$/.test(s)?{valid:!0,playerId:a,type:"dataset",note:"Dataset URL with r=250001 parameter"}:/^https:\/\/sofifa\.com\/player\/(\d+)\/([a-z0-9-]+)\/?$/.test(s)?{valid:!0,playerId:a,type:"slug",note:"Slug URL format (optional)"}:{valid:!0,playerId:a,type:"other",warning:"Valid but non-standard format. Consider using canonical or dataset URL."}}static generatePlayerUrls(s,i=null){if(!s||!Number.isInteger(s))throw new Error("Player ID is required and must be an integer");return{canonical:`https://sofifa.com/player/${s}/`,dataset:`https://sofifa.com/player/${s}/?r=250001`,slug:i?`https://sofifa.com/player/${s}/${i}/`:null}}}C(P,"CACHE_DURATION",1e3*60*60),C(P,"cache",new Map),C(P,"jsonCache",null),C(P,"rateLimit",{requests:0,resetTime:0,maxRequests:10});async function ee(l,s=[]){try{return(await l()).data||s}catch(i){return X.handleDatabaseError(i,"Data loading"),s}}async function te(){return ee(()=>Q.getAllPlayers(),[])}class D{static async getPlayerData(s,i={useLiveData:!0,fallbackToMock:!0}){if(console.log(`üîç Searching for player: ${s}`),!s||typeof s!="string"||s.trim().length===0)return console.warn("‚ö†Ô∏è Invalid player name provided"),this.generateDefaultPlayerData("Unknown Player");const t=s.trim();let a=null;if(this.fifaDatabase[t]&&(a={...this.fifaDatabase[t],searchName:t,found:!0,source:"mock_database"},console.log(`‚úÖ Found exact match in database: ${t}`)),!a){const n=this.performFuzzyMatch(t);n&&(a={...n.data,searchName:t,suggestedName:n.name,found:!0,source:"mock_database_fuzzy"},console.log(`‚úÖ Found fuzzy match: ${t} -> ${n.name}`))}if(a&&i.useLiveData&&a.sofifaUrl)try{console.log("üåê Attempting to fetch live data from SoFIFA...");const n=await P.fetchPlayerData(a.sofifaUrl,a.sofifaId);if(n){const o={...a,...n,searchName:t,found:!0,source:"sofifa_enhanced",lastUpdated:new Date().toISOString(),mockDataAvailable:!0};return console.log(`‚úÖ Enhanced with live SoFIFA data for: ${t}`),o}else console.log("‚ö†Ô∏è Live data fetch failed, using mock data"),a.source="mock_fallback",a.sofifaAttempted=!0,a.sofifaFetchTime=new Date().toISOString()}catch(n){console.error("‚ùå Error fetching live data:",n.message),a&&(a.source="mock_error_fallback",a.fetchError=n.message)}return a||(i.fallbackToMock?(console.log(`üîÑ Generating default data for unknown player: ${t}`),this.generateDefaultPlayerData(t)):(console.log(`‚ùå No data found for player: ${t}`),null))}static performFuzzyMatch(s){const i=s.toLowerCase().split(" "),t=[];for(const[a,n]of Object.entries(this.fifaDatabase)){const r=this.normalizeString(a.toLowerCase()).split(" ");let u=0,d=0;if(i.forEach(v=>{const g=this.normalizeString(v);let x=0;r.forEach(p=>{let y=0;if(p===g)y=1;else if(p.includes(g)||g.includes(p)){const S=Math.min(p.length,g.length),M=Math.max(p.length,g.length);y=S/M*.9}else{const S=this.calculateSimilarity(g,p);S>.6&&(y=S*.8)}x=Math.max(x,y)}),x>.5&&(d++,u+=x)}),i.length===1){const v=this.normalizeString(i[0]);r.forEach(g=>{if(g.includes(v)||v.includes(g)){const x=Math.min(v.length,g.length)/Math.max(v.length,g.length);u=Math.max(u,x*1.2),d=Math.max(d,1)}})}const m=i.length>0?u/i.length:0;(m>.6||d>=Math.ceil(i.length*.7)&&m>.4)&&t.push({name:a,data:n,score:m,matchedTerms:d})}if(t.length>0){t.sort((n,o)=>Math.abs(n.score-o.score)<.1?o.matchedTerms-n.matchedTerms:o.score-n.score);const a=t[0];return console.log(`üéØ Found fuzzy match: "${s}" -> "${a.name}" (score: ${a.score.toFixed(2)})`),{name:a.name,data:a.data}}return null}static normalizeString(s){return s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s]/g,"").toLowerCase()}static calculateSimilarity(s,i){const t=s.length>i.length?s:i,a=s.length>i.length?i:s;if(t.length===0)return 1;const n=this.levenshteinDistance(t,a);return(t.length-n)/t.length}static levenshteinDistance(s,i){const t=[];for(let a=0;a<=i.length;a++)t[a]=[a];for(let a=0;a<=s.length;a++)t[0][a]=a;for(let a=1;a<=i.length;a++)for(let n=1;n<=s.length;n++)i.charAt(a-1)===s.charAt(n-1)?t[a][n]=t[a-1][n-1]:t[a][n]=Math.min(t[a-1][n-1]+1,t[a][n-1]+1,t[a-1][n]+1);return t[i.length][s.length]}static generateDefaultPlayerData(s){const i=65+Math.floor(Math.random()*15);return{overall:i,potential:Math.min(i+Math.floor(Math.random()*8),85),positions:["Unknown"],age:25,height:175+Math.floor(Math.random()*15),weight:70+Math.floor(Math.random()*15),foot:Math.random()>.5?"Right":"Left",pace:this.generateAttribute(i),shooting:this.generateAttribute(i),passing:this.generateAttribute(i),dribbling:this.generateAttribute(i),defending:this.generateAttribute(i),physical:this.generateAttribute(i),skills:this.generateDetailedSkills(i),workrates:"Medium/Medium",weakFoot:2+Math.floor(Math.random()*3),skillMoves:2+Math.floor(Math.random()*3),nationality:"Unknown",club:"Unknown",value:"‚Ç¨"+(Math.random()*5+.5).toFixed(1)+"M",wage:"‚Ç¨"+Math.floor(Math.random()*20+5)+"K",contract:"2025",sofifaId:null,sofifaUrl:null,searchName:s,found:!1,generated:!0}}static generateAttribute(s){const t=Math.max(35,s-15),a=Math.min(90,s+15);return t+Math.floor(Math.random()*(a-t))}static generateDetailedSkills(s){const i={};return["crossing","finishing","headingAccuracy","shortPassing","volleys","curve","fkAccuracy","longPassing","ballControl","acceleration","sprintSpeed","agility","reactions","balance","shotPower","jumping","stamina","strength","longShots","aggression","interceptions","positioning","vision","penalties","composure"].forEach(a=>{i[a]=this.generateAttribute(s)}),i}static getAvailablePlayers(){return Object.keys(this.fifaDatabase)}static addPlayer(s,i){this.fifaDatabase[s]=i}static hasPlayer(s){return this.fifaDatabase.hasOwnProperty(s)}static getPlayerCardColor(s){return s>=90?"fifa-card-icon bg-gradient-to-br from-purple-600 to-purple-700 text-white shadow-purple-500/30":s>=85?"fifa-card-gold bg-gradient-to-br from-yellow-400 to-yellow-500 text-yellow-900 shadow-yellow-500/30":s>=80?"fifa-card-silver bg-gradient-to-br from-gray-400 to-gray-500 text-gray-900 shadow-gray-500/30":s>=75?"fifa-card-bronze bg-gradient-to-br from-orange-400 to-orange-500 text-orange-900 shadow-orange-500/30":"fifa-card-common bg-gradient-to-br from-gray-600 to-gray-700 text-white shadow-gray-600/30"}static formatOverallRating(s){let i="";return s>=90?i="üåü":s>=85?i="ü•á":s>=80?i="ü•à":s>=75&&(i="ü•â"),`${s} ${i}`}static getRatingColor(s){return s>=85?"text-green-400":s>=75?"text-yellow-400":s>=65?"text-orange-400":"text-red-400"}static async batchGetPlayerData(s,i={}){console.log(`üì¶ Batch fetching ${s.length} players...`);const t=[],a=i.batchSize||3;for(let n=0;n<s.length;n+=a){const r=s.slice(n,n+a).map(d=>this.getPlayerData(d,i).catch(m=>({searchName:d,error:m.message,found:!1}))),u=await Promise.all(r);t.push(...u),n+a<s.length&&await new Promise(d=>setTimeout(d,1e3))}return console.log(`‚úÖ Batch fetch complete: ${t.length} players processed`),t}static async getPlayersByClub(s,i=!1){console.log(`üèüÔ∏è Searching for players from club: ${s}`);const t=Object.entries(this.fifaDatabase).filter(([a,n])=>n.club&&n.club.toLowerCase().includes(s.toLowerCase())).map(([a,n])=>({name:a,...n}));if(i){const a=t.map(n=>n.name);return await this.batchGetPlayerData(a,{useLiveData:!0})}return t.map(a=>({...a,searchName:a.name,found:!0,source:"mock_database"}))}static getSofifaStats(){const s=P.getCacheStats(),i=Object.keys(this.fifaDatabase).length,t=Object.values(this.fifaDatabase).filter(a=>a.sofifaUrl).length;return{cache:s,database:{totalPlayers:i,playersWithSofifaUrls:t,sofifaUrlCoverage:`${(t/i*100).toFixed(1)}%`},integration:{status:"active",lastCheck:new Date().toISOString()}}}static validateSofifaUrls(){console.log("üîç Validating SoFIFA URLs in database...");const s={valid:[],invalid:[],missing:[]};return Object.entries(this.fifaDatabase).forEach(([i,t])=>{t.sofifaUrl?this.isValidSofifaUrl(t.sofifaUrl)?s.valid.push({name:i,url:t.sofifaUrl,id:t.sofifaId}):s.invalid.push({name:i,url:t.sofifaUrl}):s.missing.push(i)}),console.log(`‚úÖ URL validation complete: ${s.valid.length} valid, ${s.invalid.length} invalid, ${s.missing.length} missing`),s}static isValidSofifaUrl(s){return typeof s!="string"?!1:/^https:\/\/sofifa\.com\/player\/\d+\/([^\/]+\/)?(\d+\/?)?$/.test(s)}static updateSofifaUrls(){console.log("üîß Updating SoFIFA URLs to correct format...");const s={"Virgil van Dijk":{id:203376,url:"https://sofifa.com/player/203376/virgil-van-dijk/250001/"},"Karim Benzema":{id:165153,url:"https://sofifa.com/player/165153/karim-benzema/250001/"},"Iago Aspas":{id:192629,url:"https://sofifa.com/player/192629/250001/"},"Kylian Mbapp√©":{id:231747,url:"https://sofifa.com/player/231747/kylian-mbappe/250001/"},"Erling Haaland":{id:239085,url:"https://sofifa.com/player/239085/erling-haaland/250001/"},"Viktor Gy√∂keres":{id:241651,url:"https://sofifa.com/player/241651/250001/"},"Kevin De Bruyne":{id:192985,url:"https://sofifa.com/player/192985/kevin-de-bruyne/250001/"},"Lionel Messi":{id:158023,url:"https://sofifa.com/player/158023/lionel-messi/250001/"},"Frank Acheampong":{id:213013,url:"https://sofifa.com/player/213013/250001/"},"Nestory Irankunda":{id:266245,url:"https://sofifa.com/player/266245/250001/"},"Pepe Reina":{id:24630,url:"https://sofifa.com/player/24630/jose-manuel-reina-paez/250001/"},"Amor Layouni":{id:242166,url:"https://sofifa.com/player/242166/amor-layouni/250001/"},"Luis Adv√≠ncula":{id:204539,url:"https://sofifa.com/player/204539/luis-advincula/250001/"},"Mohamed Salah":{id:209331,url:"https://sofifa.com/player/209331/mohamed-salah/250001/"},"Luis Su√°rez":{id:176580,url:"https://sofifa.com/player/176580/luis-suarez/250001/"},"Antonio R√ºdiger":{id:205452,url:"https://sofifa.com/player/205452/antonio-rudiger/250001/"},"Kalidou Koulibaly":{id:201024,url:"https://sofifa.com/player/201024/kalidou-koulibaly/250001/"},"N'Golo Kant√©":{id:215914,url:"https://sofifa.com/player/215914/ngolo-kante/250001/"},"Luka Modriƒá":{id:177003,url:"https://sofifa.com/player/177003/luka-modric/250001/"},"Kyle Walker":{id:188377,url:"https://sofifa.com/player/188377/kyle-walker/250001/"},"Dominik Kohr":{id:212212,url:"https://sofifa.com/player/212212/dominik-kohr/250001/"},"Robert Lewandowski":{id:188545,url:"https://sofifa.com/player/188545/robert-lewandowski/250001/"},"Cristiano Ronaldo":{id:20801,url:"https://sofifa.com/player/20801/cristiano-ronaldo/250001/"},"I√±aki Williams":{id:216201,url:"https://sofifa.com/player/216201/inaki-williams-arthuer/250001/"},"Francesco Acerbi":{id:199845,url:"https://sofifa.com/player/199845/francesco-acerbi/250001/"},"Nordin Amrabat":{id:183108,url:"https://sofifa.com/player/183108/nordin-amrabat/250001/"},"Federico Chiesa":{id:235805,url:"https://sofifa.com/player/235805/federico-chiesa/250001/"},"ƒ∞lkay G√ºndoƒüan":{id:186942,url:"https://sofifa.com/player/186942/ilkay-gundogan/250001/"},"Theo Hern√°ndez":{id:232656,url:"https://sofifa.com/player/232656/theo-hernandez/250001/"},"Jordi Alba":{id:189332,url:"https://sofifa.com/player/189332/jordi-alba/250001/"},"Nicol√≤ Barella":{id:224232,url:"https://sofifa.com/player/224232/nicolo-barella/250001/"},"Ferland Mendy":{id:228618,url:"https://sofifa.com/player/228618/ferland-mendy/250001/"},"Rapha√´l Varane":{id:201535,url:"https://sofifa.com/player/201535/raphael-varane/250001/"},"Wojciech Szczƒôsny":{id:186153,url:"https://sofifa.com/player/186153/wojciech-szczesny/250001/"},"Jonathan Tah":{id:213331,url:"https://sofifa.com/player/213331/jonathan-tah/250001/"},"Manuel Neuer":{id:167495,url:"https://sofifa.com/player/167495/manuel-neuer/250001/"},"Manuel Lazzari":{id:235374,url:"https://sofifa.com/player/235374/manuel-lazzari/250001/"},"Jonathan Clauss":{id:239093,url:"https://sofifa.com/player/239093/jonathan-clauss/250001/"},"Jeremiah St. Juste":{id:226853,url:"https://sofifa.com/player/226853/jeremiah-st-juste/250001/"},"David Alaba":{id:197445,url:"https://sofifa.com/player/197445/david-alaba/250001/"},"Saud Abdulhamid":{id:246688,url:"https://sofifa.com/player/246688/saud-abdulhamid/250001/"},"Luk√°≈° Hr√°deck√Ω":{id:190941,url:"https://sofifa.com/player/190941/lukas-hradecky/250001/"},Alisson:{id:212831,url:"https://sofifa.com/player/212831/alisson/250001/"}},i={updated:[],unchanged:[],missing:[],errors:[]};return Object.entries(this.fifaDatabase).forEach(([t,a])=>{if(s[t]){const n=s[t];a.sofifaUrl!==n.url||a.sofifaId!==n.id?(a.sofifaUrl=n.url,a.sofifaId=n.id,i.updated.push({name:t,newUrl:n.url,newId:n.id})):i.unchanged.push(t)}}),Object.keys(s).forEach(t=>{this.fifaDatabase[t]||i.missing.push({name:t,url:s[t].url,id:s[t].id})}),console.log(`‚úÖ URL update complete: ${i.updated.length} updated, ${i.unchanged.length} unchanged, ${i.missing.length} missing`),i.missing.length>0&&(console.log("‚ö†Ô∏è Missing players that need to be added:"),i.missing.forEach(t=>{console.log(`  - ${t.name}: ${t.url}`)})),i}static clearAllCaches(){P.clearCache(),console.log("üóëÔ∏è All FIFA service caches cleared")}static async testSofifaConnectivity(){console.log("üß™ Testing SoFIFA connectivity...");const s=Object.entries(this.fifaDatabase).find(([a,n])=>n.sofifaUrl);if(!s)return{success:!1,error:"No players with SoFIFA URLs available for testing"};const[i,t]=s;try{const a=Date.now(),n=await P.fetchPlayerData(t.sofifaUrl,t.sofifaId),o=Date.now();return{success:!!n,testPlayer:i,responseTime:`${o-a}ms`,result:n,timestamp:new Date().toISOString()}}catch(a){return{success:!1,testPlayer:i,error:a.message,timestamp:new Date().toISOString()}}}static async getAllDatabasePlayersWithFIFA(s={useLiveData:!1}){console.log("üìã Loading all database players with FIFA enhancement...");try{const i=await te();if(console.log(`üìä Found ${i.length} players in database`),i.length===0)return[];const t=[],a=s.batchSize||5;for(let n=0;n<i.length;n+=a){const r=i.slice(n,n+a).map(async d=>{try{const m=await this.getPlayerData(d.name,{useLiveData:s.useLiveData,fallbackToMock:!0});return{...d,fifaData:m,enhanced:!0,source:(m==null?void 0:m.source)||"database_only"}}catch(m){return console.warn(`‚ùå Failed to enhance player ${d.name}:`,m.message),{...d,fifaData:this.generateDefaultPlayerData(d.name),enhanced:!1,error:m.message}}}),u=await Promise.all(r);t.push(...u),n+a<i.length&&await new Promise(d=>setTimeout(d,500))}return console.log(`‚úÖ Enhanced ${t.length} database players with FIFA data`),t}catch(i){return console.error("‚ùå Error loading database players:",i.message),[]}}static async searchSofifaByName(s){console.log(`üîç Searching SoFIFA for player: ${s}`);try{const i=await P.searchPlayerByName(s);return i?(console.log(`‚úÖ Found player on SoFIFA: ${i.name||s}`),{...i,searchName:s,found:!0,source:"sofifa_search"}):(console.log(`‚ùå Player not found on SoFIFA: ${s}`),null)}catch(i){return console.error(`‚ùå Error searching SoFIFA for ${s}:`,i.message),null}}static async enhanceDatabasePlayer(s,i={useLiveData:!1}){console.log(`üîß Enhancing player: ${s.name}`);try{let t=await this.getPlayerData(s.name,{useLiveData:i.useLiveData,fallbackToMock:!1});return!t&&i.useLiveData&&(t=await this.searchSofifaByName(s.name)),t||(t=this.generateDefaultPlayerData(s.name),t.source="generated_default"),{...s,fifaData:t,enhanced:!0,enhancedAt:new Date().toISOString()}}catch(t){return console.error(`‚ùå Error enhancing player ${s.name}:`,t.message),{...s,fifaData:this.generateDefaultPlayerData(s.name),enhanced:!1,error:t.message}}}static async processAllStoredPlayers(s={}){const t={...{useLiveData:!0,batchSize:3,includeStatistics:!0},...s};console.log("üöÄ Processing all stored players with SoFIFA integration...");const a=Date.now();try{const n=await this.getAllDatabasePlayersWithFIFA(t),o={players:n,totalCount:n.length,processedAt:new Date().toISOString(),processingTime:`${Date.now()-a}ms`,options:t};if(t.includeStatistics){const r=this.generateProcessingStatistics(n);o.statistics=r}return console.log(`‚úÖ Completed processing ${n.length} players in ${o.processingTime}`),o}catch(n){return console.error("‚ùå Error processing stored players:",n.message),{players:[],totalCount:0,error:n.message,processedAt:new Date().toISOString(),processingTime:`${Date.now()-a}ms`}}}static generateProcessingStatistics(s){const i={total:s.length,enhanced:0,withMockData:0,withLiveData:0,withGeneratedData:0,failed:0,sourceBreakdown:{}};return s.forEach(t=>{var n;t.enhanced?i.enhanced++:i.failed++;const a=((n=t.fifaData)==null?void 0:n.source)||"unknown";i.sourceBreakdown[a]=(i.sourceBreakdown[a]||0)+1,a.includes("mock")?i.withMockData++:a.includes("sofifa")?i.withLiveData++:a.includes("generated")&&i.withGeneratedData++}),i.successRate=i.total>0?(i.enhanced/i.total*100).toFixed(1)+"%":"0%",i}}C(D,"fifaDatabase",{"Virgil van Dijk":{overall:90,potential:90,positions:["CB"],age:32,height:185,weight:65,foot:"Right",pace:92,shooting:91,passing:97,dribbling:96,defending:93,physical:97,skills:{crossing:76,finishing:60,headingAccuracy:88,shortPassing:84,volleys:80,curve:80,fkAccuracy:79,longPassing:81,ballControl:79,acceleration:73,sprintSpeed:73,agility:83,reactions:82,balance:76,shotPower:71,jumping:76,stamina:84,strength:78,longShots:74,aggression:74,interceptions:93,positioning:79,vision:70,penalties:77,composure:81},workrates:"Medium/Medium",weakFoot:4,skillMoves:3,nationality:"Netherlands",club:"Liverpool",value:"‚Ç¨104.1M",wage:"‚Ç¨455K",contract:"2025",sofifaId:203376,sofifaUrl:"https://sofifa.com/player/203376/virgil-van-dijk/250001/"},"Karim Benzema":{overall:91,potential:91,positions:["ST"],age:36,height:172,weight:75,foot:"Right",pace:92,shooting:97,passing:94,dribbling:87,defending:90,physical:92,skills:{crossing:71,finishing:92,headingAccuracy:76,shortPassing:81,volleys:75,curve:71,fkAccuracy:76,longPassing:76,ballControl:79,acceleration:74,sprintSpeed:77,agility:73,reactions:73,balance:83,shotPower:85,jumping:78,stamina:71,strength:83,longShots:79,aggression:73,interceptions:72,positioning:82,vision:83,penalties:84,composure:72},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"France",club:"Al Ittihad",value:"‚Ç¨56.3M",wage:"‚Ç¨73K",contract:"2025",sofifaId:165153,sofifaUrl:"https://sofifa.com/player/165153/karim-benzema/250001/"},"Iago Aspas":{overall:84,potential:84,positions:["ST","CF"],age:36,height:177,weight:76,foot:"Right",pace:83,shooting:95,passing:77,dribbling:89,defending:76,physical:83,skills:{crossing:71,finishing:82,headingAccuracy:68,shortPassing:77,volleys:78,curve:65,fkAccuracy:71,longPassing:73,ballControl:69,acceleration:66,sprintSpeed:71,agility:75,reactions:65,balance:75,shotPower:65,jumping:66,stamina:69,strength:75,longShots:74,aggression:70,interceptions:66,positioning:86,vision:64,penalties:68,composure:69},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Spain",club:"Celta Vigo",value:"‚Ç¨84.7M",wage:"‚Ç¨426K",contract:"2025",sofifaId:192629,sofifaUrl:"https://sofifa.com/player/192629/250001/"},"Kylian Mbapp√©":{overall:91,potential:95,positions:["LW","ST","RW"],age:25,height:171,weight:66,foot:"Left",pace:88,shooting:95,passing:95,dribbling:83,defending:83,physical:86,skills:{crossing:80,finishing:98,headingAccuracy:72,shortPassing:83,volleys:72,curve:79,fkAccuracy:77,longPassing:71,ballControl:85,acceleration:76,sprintSpeed:76,agility:74,reactions:84,balance:79,shotPower:74,jumping:79,stamina:72,strength:77,longShots:71,aggression:80,interceptions:81,positioning:95,vision:76,penalties:78,composure:73},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"France",club:"Real Madrid",value:"‚Ç¨32.0M",wage:"‚Ç¨133K",contract:"2025",sofifaId:231747,sofifaUrl:"https://sofifa.com/player/231747/kylian-mbappe/250001/"},"Erling Haaland":{overall:91,potential:94,positions:["ST","CF"],age:23,height:176,weight:83,foot:"Right",pace:94,shooting:99,passing:89,dribbling:85,defending:98,physical:87,skills:{crossing:73,finishing:94,headingAccuracy:77,shortPassing:80,volleys:75,curve:80,fkAccuracy:77,longPassing:80,ballControl:81,acceleration:80,sprintSpeed:74,agility:76,reactions:82,balance:71,shotPower:85,jumping:78,stamina:80,strength:82,longShots:83,aggression:72,interceptions:77,positioning:91,vision:77,penalties:78,composure:71},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Norway",club:"Manchester City",value:"‚Ç¨44.4M",wage:"‚Ç¨173K",contract:"2025",sofifaId:239085,sofifaUrl:"https://sofifa.com/player/239085/erling-haaland/250001/"},"Viktor Gy√∂keres":{overall:84,potential:86,positions:["ST"],age:26,height:192,weight:88,foot:"Left",pace:86,shooting:93,passing:86,dribbling:79,defending:79,physical:79,skills:{crossing:64,finishing:90,headingAccuracy:64,shortPassing:65,volleys:64,curve:75,fkAccuracy:69,longPassing:76,ballControl:74,acceleration:69,sprintSpeed:68,agility:67,reactions:77,balance:71,shotPower:64,jumping:70,stamina:78,strength:78,longShots:75,aggression:64,interceptions:71,positioning:84,vision:69,penalties:74,composure:71},workrates:"Medium/Medium",weakFoot:3,skillMoves:3,nationality:"Sweden",club:"Sporting CP",value:"‚Ç¨51.1M",wage:"‚Ç¨187K",contract:"2025",sofifaId:234558,sofifaUrl:"https://sofifa.com/player/234558/?r=250001"},"Kevin De Bruyne":{overall:91,potential:91,positions:["CAM","CM"],age:33,height:171,weight:78,foot:"Left",pace:96,shooting:92,passing:96,dribbling:93,defending:84,physical:98,skills:{crossing:75,finishing:71,headingAccuracy:73,shortPassing:71,volleys:75,curve:78,fkAccuracy:73,longPassing:73,ballControl:85,acceleration:79,sprintSpeed:73,agility:84,reactions:77,balance:85,shotPower:73,jumping:76,stamina:73,strength:80,longShots:77,aggression:72,interceptions:72,positioning:81,vision:76,penalties:77,composure:85},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Belgium",club:"Manchester City",value:"‚Ç¨64.9M",wage:"‚Ç¨471K",contract:"2025",sofifaId:192985,sofifaUrl:"https://sofifa.com/player/192985/kevin-de-bruyne/250001/"},"Lionel Messi":{overall:90,potential:90,positions:["RW","CAM"],age:37,height:174,weight:76,foot:"Left",pace:91,shooting:83,passing:99,dribbling:99,defending:92,physical:86,skills:{crossing:84,finishing:84,headingAccuracy:77,shortPassing:78,volleys:83,curve:80,fkAccuracy:81,longPassing:76,ballControl:79,acceleration:77,sprintSpeed:73,agility:76,reactions:70,balance:80,shotPower:79,jumping:84,stamina:83,strength:84,longShots:79,aggression:78,interceptions:75,positioning:78,vision:70,penalties:79,composure:81},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"Argentina",club:"Inter Miami",value:"‚Ç¨51.3M",wage:"‚Ç¨249K",contract:"2025",sofifaId:158023,sofifaUrl:"https://sofifa.com/player/158023/lionel-messi/250001/"},"Frank Acheampong":{overall:73,potential:73,positions:["RW","RM"],age:30,height:191,weight:67,foot:"Right",pace:72,shooting:75,passing:69,dribbling:78,defending:77,physical:78,skills:{crossing:55,finishing:63,headingAccuracy:57,shortPassing:63,volleys:64,curve:57,fkAccuracy:55,longPassing:65,ballControl:61,acceleration:63,sprintSpeed:53,agility:57,reactions:61,balance:67,shotPower:60,jumping:64,stamina:55,strength:62,longShots:62,aggression:53,interceptions:58,positioning:63,vision:67,penalties:58,composure:65},workrates:"Medium/Medium",weakFoot:4,skillMoves:2,nationality:"Ghana",club:"AEK Athens",value:"‚Ç¨42.6M",wage:"‚Ç¨293K",contract:"2025",sofifaId:208450,sofifaUrl:"https://sofifa.com/player/208450/?r=250001"},"Nestory Irankunda":{overall:68,potential:82,positions:["RW"],age:18,height:178,weight:87,foot:"Left",pace:71,shooting:64,passing:63,dribbling:67,defending:61,physical:71,skills:{crossing:61,finishing:53,headingAccuracy:52,shortPassing:58,volleys:59,curve:55,fkAccuracy:54,longPassing:52,ballControl:54,acceleration:57,sprintSpeed:52,agility:60,reactions:60,balance:51,shotPower:59,jumping:61,stamina:55,strength:60,longShots:62,aggression:48,interceptions:53,positioning:55,vision:49,penalties:57,composure:61},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Australia",club:"Bayern Munich",value:"‚Ç¨34.9M",wage:"‚Ç¨406K",contract:"2025",sofifaId:271416,sofifaUrl:"https://sofifa.com/player/271416/?r=250001"},"Pepe Reina":{overall:81,potential:81,positions:["GK"],age:41,height:177,weight:80,foot:"Right",pace:70,shooting:40,passing:74,dribbling:60,defending:84,physical:74,skills:{crossing:50,finishing:40,headingAccuracy:64,shortPassing:74,volleys:70,curve:70,fkAccuracy:61,longPassing:63,ballControl:75,acceleration:69,sprintSpeed:67,agility:74,reactions:63,balance:71,shotPower:63,jumping:74,stamina:75,strength:72,longShots:70,aggression:67,interceptions:72,positioning:81,vision:70,penalties:67,composure:68},workrates:"Medium/Medium",weakFoot:3,skillMoves:4,nationality:"Spain",club:"Villarreal",value:"‚Ç¨93.0M",wage:"‚Ç¨139K",contract:"2025",sofifaId:116356,sofifaUrl:"https://sofifa.com/player/116356/?r=250001"},"Amor Layouni":{overall:72,potential:75,positions:["CAM","LM"],age:26,height:190,weight:84,foot:"Left",pace:76,shooting:79,passing:77,dribbling:75,defending:73,physical:73,skills:{crossing:60,finishing:54,headingAccuracy:59,shortPassing:59,volleys:63,curve:53,fkAccuracy:60,longPassing:61,ballControl:65,acceleration:58,sprintSpeed:62,agility:63,reactions:58,balance:56,shotPower:65,jumping:56,stamina:65,strength:57,longShots:62,aggression:56,interceptions:58,positioning:66,vision:54,penalties:55,composure:65},workrates:"Medium/Medium",weakFoot:3,skillMoves:2,nationality:"Tunisia",club:"AEK Athens",value:"‚Ç¨60.6M",wage:"‚Ç¨353K",contract:"2025",sofifaId:225257,sofifaUrl:"https://sofifa.com/player/225257/?r=250001"},"Luis Adv√≠ncula":{overall:78,potential:78,positions:["RB","RWB"],age:33,height:179,weight:83,foot:"Right",pace:78,shooting:83,passing:72,dribbling:84,defending:78,physical:72,skills:{crossing:64,finishing:66,headingAccuracy:62,shortPassing:63,volleys:58,curve:67,fkAccuracy:70,longPassing:72,ballControl:68,acceleration:61,sprintSpeed:70,agility:62,reactions:65,balance:70,shotPower:60,jumping:61,stamina:68,strength:60,longShots:58,aggression:71,interceptions:69,positioning:72,vision:63,penalties:68,composure:71},workrates:"Medium/Medium",weakFoot:4,skillMoves:3,nationality:"Peru",club:"Boca Juniors",value:"‚Ç¨47.4M",wage:"‚Ç¨398K",contract:"2025",sofifaId:207929,sofifaUrl:"https://sofifa.com/player/207929/?r=250001"},"Mohamed Salah":{overall:89,potential:89,positions:["RW","ST"],age:32,height:181,weight:66,foot:"Right",pace:94,shooting:99,passing:87,dribbling:81,defending:86,physical:92,skills:{crossing:79,finishing:96,headingAccuracy:74,shortPassing:79,volleys:83,curve:74,fkAccuracy:80,longPassing:70,ballControl:74,acceleration:82,sprintSpeed:82,agility:71,reactions:76,balance:81,shotPower:74,jumping:83,stamina:74,strength:79,longShots:69,aggression:78,interceptions:72,positioning:82,vision:70,penalties:72,composure:78},workrates:"Medium/Medium",weakFoot:4,skillMoves:2,nationality:"Egypt",club:"Liverpool",value:"‚Ç¨84.0M",wage:"‚Ç¨71K",contract:"2025",sofifaId:209331,sofifaUrl:"https://sofifa.com/player/209331/?r=250001"},"Luis Su√°rez":{overall:86,potential:86,positions:["ST"],age:37,height:194,weight:66,foot:"Left",pace:91,shooting:99,passing:92,dribbling:92,defending:83,physical:80,skills:{crossing:74,finishing:84,headingAccuracy:71,shortPassing:67,volleys:77,curve:74,fkAccuracy:72,longPassing:76,ballControl:76,acceleration:69,sprintSpeed:68,agility:76,reactions:73,balance:66,shotPower:68,jumping:72,stamina:75,strength:77,longShots:70,aggression:76,interceptions:67,positioning:81,vision:69,penalties:77,composure:78},workrates:"Medium/Medium",weakFoot:4,skillMoves:2,nationality:"Uruguay",club:"Inter Miami",value:"‚Ç¨77.0M",wage:"‚Ç¨430K",contract:"2025",sofifaId:176580,sofifaUrl:"https://sofifa.com/player/176580/?r=250001"},"Antonio R√ºdiger":{overall:87,potential:87,positions:["CB"],age:31,height:173,weight:89,foot:"Left",pace:90,shooting:94,passing:86,dribbling:83,defending:95,physical:85,skills:{crossing:73,finishing:60,headingAccuracy:87,shortPassing:69,volleys:73,curve:72,fkAccuracy:80,longPassing:70,ballControl:77,acceleration:71,sprintSpeed:74,agility:70,reactions:79,balance:75,shotPower:76,jumping:76,stamina:77,strength:78,longShots:71,aggression:81,interceptions:79,positioning:77,vision:75,penalties:79,composure:72},workrates:"Medium/Medium",weakFoot:2,skillMoves:2,nationality:"Germany",club:"Real Madrid",value:"‚Ç¨100.9M",wage:"‚Ç¨500K",contract:"2025",sofifaId:205452,sofifaUrl:"https://sofifa.com/player/205452/?r=250001"},"Kalidou Koulibaly":{overall:87,potential:87,positions:["CB"],age:33,height:176,weight:82,foot:"Right",pace:82,shooting:82,passing:79,dribbling:90,defending:94,physical:93,skills:{crossing:67,finishing:60,headingAccuracy:81,shortPassing:80,volleys:68,curve:68,fkAccuracy:78,longPassing:78,ballControl:80,acceleration:67,sprintSpeed:81,agility:73,reactions:76,balance:74,shotPower:72,jumping:79,stamina:76,strength:67,longShots:75,aggression:77,interceptions:82,positioning:72,vision:67,penalties:79,composure:67},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"Senegal",club:"Al Hilal",value:"‚Ç¨101.3M",wage:"‚Ç¨362K",contract:"2025",sofifaId:201024,sofifaUrl:"https://sofifa.com/player/201024/?r=250001"},"N'Golo Kant√©":{overall:87,potential:87,positions:["CDM","CM"],age:33,height:191,weight:72,foot:"Right",pace:92,shooting:84,passing:91,dribbling:94,defending:93,physical:81,skills:{crossing:79,finishing:74,headingAccuracy:76,shortPassing:79,volleys:74,curve:73,fkAccuracy:77,longPassing:78,ballControl:78,acceleration:75,sprintSpeed:80,agility:69,reactions:75,balance:69,shotPower:70,jumping:77,stamina:74,strength:79,longShots:73,aggression:69,interceptions:68,positioning:68,vision:68,penalties:67,composure:75},workrates:"Medium/Medium",weakFoot:3,skillMoves:4,nationality:"France",club:"Al Ittihad",value:"‚Ç¨34.5M",wage:"‚Ç¨436K",contract:"2025",sofifaId:215914,sofifaUrl:"https://sofifa.com/player/215914/?r=250001"},"Luka Modriƒá":{overall:88,potential:88,positions:["CM","CAM"],age:38,height:175,weight:69,foot:"Right",pace:93,shooting:93,passing:99,dribbling:85,defending:86,physical:81,skills:{crossing:70,finishing:73,headingAccuracy:76,shortPassing:72,volleys:69,curve:72,fkAccuracy:72,longPassing:82,ballControl:77,acceleration:68,sprintSpeed:70,agility:79,reactions:68,balance:74,shotPower:69,jumping:82,stamina:79,strength:68,longShots:79,aggression:82,interceptions:72,positioning:68,vision:71,penalties:81,composure:78},workrates:"Medium/Medium",weakFoot:3,skillMoves:3,nationality:"Croatia",club:"Real Madrid",value:"‚Ç¨13.4M",wage:"‚Ç¨169K",contract:"2025",sofifaId:177003,sofifaUrl:"https://sofifa.com/player/177003/?r=250001"},"Kyle Walker":{overall:84,potential:84,positions:["RB"],age:34,height:185,weight:78,foot:"Left",pace:80,shooting:85,passing:88,dribbling:89,defending:83,physical:77,skills:{crossing:67,finishing:72,headingAccuracy:70,shortPassing:75,volleys:72,curve:64,fkAccuracy:65,longPassing:67,ballControl:67,acceleration:68,sprintSpeed:75,agility:77,reactions:73,balance:77,shotPower:76,jumping:78,stamina:75,strength:66,longShots:73,aggression:70,interceptions:66,positioning:64,vision:78,penalties:71,composure:69},workrates:"Medium/Medium",weakFoot:2,skillMoves:2,nationality:"England",club:"Manchester City",value:"‚Ç¨99.1M",wage:"‚Ç¨282K",contract:"2025",sofifaId:198710,sofifaUrl:"https://sofifa.com/player/198710/?r=250001"},"Dominik Kohr":{overall:76,potential:76,positions:["CDM"],age:30,height:193,weight:71,foot:"Left",pace:73,shooting:80,passing:70,dribbling:70,defending:77,physical:72,skills:{crossing:70,finishing:67,headingAccuracy:62,shortPassing:56,volleys:61,curve:70,fkAccuracy:57,longPassing:64,ballControl:63,acceleration:64,sprintSpeed:60,agility:67,reactions:69,balance:61,shotPower:65,jumping:61,stamina:66,strength:64,longShots:57,aggression:63,interceptions:68,positioning:63,vision:57,penalties:56,composure:66},workrates:"Medium/Medium",weakFoot:3,skillMoves:2,nationality:"Germany",club:"Mainz 05",value:"‚Ç¨27.8M",wage:"‚Ç¨489K",contract:"2025",sofifaId:199412,sofifaUrl:"https://sofifa.com/player/199412/?r=250001"},"Robert Lewandowski":{overall:90,potential:90,positions:["ST"],age:35,height:177,weight:84,foot:"Right",pace:94,shooting:98,passing:89,dribbling:87,defending:88,physical:88,skills:{crossing:70,finishing:93,headingAccuracy:83,shortPassing:83,volleys:75,curve:71,fkAccuracy:72,longPassing:75,ballControl:75,acceleration:82,sprintSpeed:77,agility:78,reactions:80,balance:81,shotPower:82,jumping:79,stamina:75,strength:72,longShots:75,aggression:74,interceptions:74,positioning:80,vision:81,penalties:70,composure:80},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"Poland",club:"Barcelona",value:"‚Ç¨99.7M",wage:"‚Ç¨381K",contract:"2025",sofifaId:188545,sofifaUrl:"https://sofifa.com/player/188545/?r=250001"},"Cristiano Ronaldo":{overall:88,potential:88,positions:["ST","LW"],age:39,height:194,weight:78,foot:"Left",pace:85,shooting:98,passing:93,dribbling:89,defending:87,physical:91,skills:{crossing:78,finishing:87,headingAccuracy:72,shortPassing:73,volleys:74,curve:71,fkAccuracy:79,longPassing:73,ballControl:73,acceleration:81,sprintSpeed:69,agility:71,reactions:73,balance:72,shotPower:79,jumping:75,stamina:82,strength:75,longShots:73,aggression:69,interceptions:71,positioning:82,vision:82,penalties:68,composure:80},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"Portugal",club:"Al Nassr",value:"‚Ç¨57.6M",wage:"‚Ç¨431K",contract:"2025",sofifaId:20801,sofifaUrl:"https://sofifa.com/player/20801/?r=250001"},"I√±aki Williams":{overall:81,potential:81,positions:["RW","ST"],age:30,height:185,weight:65,foot:"Right",pace:78,shooting:98,passing:88,dribbling:79,defending:75,physical:77,skills:{crossing:70,finishing:83,headingAccuracy:62,shortPassing:71,volleys:67,curve:72,fkAccuracy:65,longPassing:68,ballControl:64,acceleration:74,sprintSpeed:65,agility:63,reactions:72,balance:61,shotPower:69,jumping:69,stamina:65,strength:72,longShots:72,aggression:69,interceptions:70,positioning:71,vision:72,penalties:67,composure:63},workrates:"Medium/Medium",weakFoot:2,skillMoves:4,nationality:"Ghana",club:"Athletic Bilbao",value:"‚Ç¨65.9M",wage:"‚Ç¨517K",contract:"2025",sofifaId:215316,sofifaUrl:"https://sofifa.com/player/215316/?r=250001"},"Francesco Acerbi":{overall:84,potential:84,positions:["CB"],age:36,height:172,weight:68,foot:"Right",pace:77,shooting:86,passing:76,dribbling:77,defending:94,physical:92,skills:{crossing:72,finishing:60,headingAccuracy:87,shortPassing:72,volleys:66,curve:66,fkAccuracy:76,longPassing:75,ballControl:70,acceleration:68,sprintSpeed:65,agility:74,reactions:67,balance:64,shotPower:74,jumping:69,stamina:68,strength:69,longShots:72,aggression:66,interceptions:80,positioning:75,vision:76,penalties:67,composure:72},workrates:"Medium/Medium",weakFoot:3,skillMoves:4,nationality:"Italy",club:"Inter Milan",value:"‚Ç¨22.9M",wage:"‚Ç¨272K",contract:"2025",sofifaId:183711,sofifaUrl:"https://sofifa.com/player/183711/?r=250001"},"Sofyan Amrabat":{overall:79,potential:82,positions:["CDM","CM"],age:27,height:190,weight:65,foot:"Left",pace:84,shooting:74,passing:95,dribbling:82,defending:85,physical:80,skills:{crossing:59,finishing:62,headingAccuracy:59,shortPassing:69,volleys:67,curve:63,fkAccuracy:61,longPassing:71,ballControl:66,acceleration:69,sprintSpeed:69,agility:62,reactions:65,balance:64,shotPower:59,jumping:60,stamina:67,strength:66,longShots:61,aggression:63,interceptions:67,positioning:70,vision:60,penalties:69,composure:60},workrates:"Medium/Medium",weakFoot:4,skillMoves:3,nationality:"Morocco",club:"Fiorentina",value:"‚Ç¨29.3M",wage:"‚Ç¨242K",contract:"2025",sofifaId:221700,sofifaUrl:"https://sofifa.com/player/221700/?r=250001"},"Federico Chiesa":{overall:84,potential:87,positions:["LW","RW"],age:26,height:186,weight:77,foot:"Right",pace:76,shooting:89,passing:84,dribbling:91,defending:86,physical:85,skills:{crossing:70,finishing:66,headingAccuracy:77,shortPassing:72,volleys:69,curve:76,fkAccuracy:77,longPassing:70,ballControl:69,acceleration:68,sprintSpeed:77,agility:76,reactions:68,balance:69,shotPower:73,jumping:69,stamina:70,strength:67,longShots:64,aggression:64,interceptions:70,positioning:72,vision:77,penalties:64,composure:69},workrates:"Medium/Medium",weakFoot:3,skillMoves:3,nationality:"Italy",club:"Liverpool",value:"‚Ç¨97.0M",wage:"‚Ç¨221K",contract:"2025",sofifaId:233049,sofifaUrl:"https://sofifa.com/player/233049/?r=250001"},"ƒ∞lkay G√ºndoƒüan":{overall:85,potential:85,positions:["CM","CAM"],age:33,height:175,weight:74,foot:"Right",pace:83,shooting:80,passing:92,dribbling:96,defending:91,physical:89,skills:{crossing:76,finishing:72,headingAccuracy:76,shortPassing:76,volleys:71,curve:77,fkAccuracy:77,longPassing:67,ballControl:77,acceleration:73,sprintSpeed:70,agility:72,reactions:71,balance:75,shotPower:67,jumping:69,stamina:67,strength:65,longShots:76,aggression:72,interceptions:71,positioning:68,vision:71,penalties:77,composure:72},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Germany",club:"Barcelona",value:"‚Ç¨73.0M",wage:"‚Ç¨155K",contract:"2025",sofifaId:186942,sofifaUrl:"https://sofifa.com/player/186942/?r=250001"},"Theo Hern√°ndez":{overall:84,potential:86,positions:["LB"],age:26,height:172,weight:89,foot:"Left",pace:81,shooting:81,passing:81,dribbling:83,defending:81,physical:85,skills:{crossing:65,finishing:68,headingAccuracy:73,shortPassing:64,volleys:71,curve:68,fkAccuracy:71,longPassing:68,ballControl:75,acceleration:76,sprintSpeed:68,agility:64,reactions:69,balance:69,shotPower:74,jumping:70,stamina:67,strength:74,longShots:72,aggression:64,interceptions:68,positioning:75,vision:77,penalties:77,composure:70},workrates:"Medium/Medium",weakFoot:2,skillMoves:2,nationality:"France",club:"AC Milan",value:"‚Ç¨93.8M",wage:"‚Ç¨133K",contract:"2025",sofifaId:239062,sofifaUrl:"https://sofifa.com/player/239062/?r=250001"},"Jordi Alba":{overall:84,potential:84,positions:["LB"],age:35,height:189,weight:65,foot:"Right",pace:77,shooting:83,passing:89,dribbling:80,defending:91,physical:84,skills:{crossing:75,finishing:68,headingAccuracy:66,shortPassing:68,volleys:66,curve:64,fkAccuracy:64,longPassing:69,ballControl:70,acceleration:66,sprintSpeed:71,agility:76,reactions:77,balance:65,shotPower:70,jumping:65,stamina:66,strength:75,longShots:64,aggression:64,interceptions:75,positioning:78,vision:71,penalties:66,composure:64},workrates:"Medium/Medium",weakFoot:4,skillMoves:3,nationality:"Spain",club:"Inter Miami",value:"‚Ç¨97.1M",wage:"‚Ç¨453K",contract:"2025",sofifaId:189332,sofifaUrl:"https://sofifa.com/player/189332/?r=250001"},"Nicol√≤ Barella":{overall:86,potential:89,positions:["CM","CAM"],age:27,height:177,weight:73,foot:"Left",pace:89,shooting:79,passing:93,dribbling:98,defending:92,physical:85,skills:{crossing:73,finishing:77,headingAccuracy:66,shortPassing:76,volleys:66,curve:67,fkAccuracy:79,longPassing:67,ballControl:73,acceleration:80,sprintSpeed:67,agility:80,reactions:77,balance:68,shotPower:73,jumping:72,stamina:70,strength:78,longShots:73,aggression:70,interceptions:80,positioning:67,vision:68,penalties:80,composure:72},workrates:"Medium/Medium",weakFoot:2,skillMoves:3,nationality:"Italy",club:"Inter Milan",value:"‚Ç¨50.4M",wage:"‚Ç¨424K",contract:"2025",sofifaId:235998,sofifaUrl:"https://sofifa.com/player/235998/?r=250001"},"Ferland Mendy":{overall:82,potential:84,positions:["LB"],age:29,height:178,weight:81,foot:"Right",pace:77,shooting:79,passing:76,dribbling:83,defending:75,physical:79,skills:{crossing:70,finishing:66,headingAccuracy:69,shortPassing:63,volleys:69,curve:63,fkAccuracy:72,longPassing:68,ballControl:73,acceleration:68,sprintSpeed:69,agility:72,reactions:62,balance:72,shotPower:67,jumping:68,stamina:75,strength:63,longShots:67,aggression:69,interceptions:72,positioning:70,vision:62,penalties:75,composure:70},workrates:"Medium/Medium",weakFoot:4,skillMoves:2,nationality:"France",club:"Real Madrid",value:"‚Ç¨53.9M",wage:"‚Ç¨99K",contract:"2025",sofifaId:228845,sofifaUrl:"https://sofifa.com/player/228845/?r=250001"},"Rapha√´l Varane":{overall:86,potential:86,positions:["CB"],age:31,height:188,weight:68,foot:"Right",pace:79,shooting:78,passing:93,dribbling:85,defending:99,physical:92,skills:{crossing:73,finishing:60,headingAccuracy:87,shortPassing:78,volleys:79,curve:74,fkAccuracy:68,longPassing:76,ballControl:79,acceleration:69,sprintSpeed:77,agility:74,reactions:71,balance:71,shotPower:78,jumping:76,stamina:72,strength:75,longShots:69,aggression:72,interceptions:79,positioning:75,vision:68,penalties:69,composure:80},workrates:"Medium/Medium",weakFoot:3,skillMoves:2,nationality:"France",club:"Como",value:"‚Ç¨80.9M",wage:"‚Ç¨322K",contract:"2025",sofifaId:201535,sofifaUrl:"https://sofifa.com/player/201535/?r=250001"},"Wojciech Szczƒôsny":{overall:85,potential:85,positions:["GK"],age:34,height:186,weight:66,foot:"Left",pace:70,shooting:40,passing:92,dribbling:60,defending:83,physical:83,skills:{crossing:50,finishing:40,headingAccuracy:77,shortPassing:73,volleys:69,curve:67,fkAccuracy:76,longPassing:71,ballControl:73,acceleration:74,sprintSpeed:72,agility:68,reactions:70,balance:71,shotPower:75,jumping:69,stamina:69,strength:70,longShots:74,aggression:73,interceptions:68,positioning:79,vision:71,penalties:74,composure:69},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Poland",club:"Barcelona",value:"‚Ç¨70.4M",wage:"‚Ç¨373K",contract:"2025",sofifaId:188390,sofifaUrl:"https://sofifa.com/player/188390/?r=250001"},"Jonathan Tah":{overall:84,potential:86,positions:["CB"],age:28,height:186,weight:74,foot:"Right",pace:79,shooting:83,passing:80,dribbling:82,defending:96,physical:87,skills:{crossing:67,finishing:60,headingAccuracy:75,shortPassing:64,volleys:69,curve:65,fkAccuracy:65,longPassing:69,ballControl:66,acceleration:75,sprintSpeed:71,agility:73,reactions:78,balance:65,shotPower:64,jumping:75,stamina:64,strength:74,longShots:75,aggression:78,interceptions:81,positioning:77,vision:68,penalties:76,composure:66},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Germany",club:"Bayer Leverkusen",value:"‚Ç¨21.3M",wage:"‚Ç¨143K",contract:"2025",sofifaId:220834,sofifaUrl:"https://sofifa.com/player/220834/?r=250001"},"Manuel Neuer":{overall:87,potential:87,positions:["GK"],age:38,height:179,weight:74,foot:"Left",pace:70,shooting:40,passing:85,dribbling:60,defending:89,physical:79,skills:{crossing:50,finishing:40,headingAccuracy:67,shortPassing:81,volleys:75,curve:67,fkAccuracy:67,longPassing:72,ballControl:79,acceleration:75,sprintSpeed:77,agility:71,reactions:77,balance:71,shotPower:79,jumping:75,stamina:79,strength:78,longShots:77,aggression:80,interceptions:72,positioning:91,vision:69,penalties:77,composure:71},workrates:"Medium/Medium",weakFoot:4,skillMoves:3,nationality:"Germany",club:"Bayern Munich",value:"‚Ç¨32.8M",wage:"‚Ç¨452K",contract:"2025",sofifaId:167495,sofifaUrl:"https://sofifa.com/player/167495/?r=250001"},"Manuel Lazzari":{overall:78,potential:78,positions:["RB","RWB"],age:30,height:177,weight:79,foot:"Left",pace:79,shooting:83,passing:78,dribbling:78,defending:82,physical:84,skills:{crossing:65,finishing:72,headingAccuracy:72,shortPassing:71,volleys:60,curve:67,fkAccuracy:67,longPassing:64,ballControl:67,acceleration:63,sprintSpeed:62,agility:72,reactions:66,balance:70,shotPower:61,jumping:65,stamina:59,strength:70,longShots:60,aggression:60,interceptions:66,positioning:65,vision:66,penalties:70,composure:62},workrates:"Medium/Medium",weakFoot:3,skillMoves:4,nationality:"Italy",club:"Lazio",value:"‚Ç¨17.1M",wage:"‚Ç¨436K",contract:"2025",sofifaId:226978,sofifaUrl:"https://sofifa.com/player/226978/?r=250001"},"Jonathan Clauss":{overall:78,potential:78,positions:["RB","RWB"],age:31,height:170,weight:71,foot:"Left",pace:75,shooting:84,passing:70,dribbling:75,defending:79,physical:80,skills:{crossing:67,finishing:59,headingAccuracy:71,shortPassing:64,volleys:59,curve:69,fkAccuracy:64,longPassing:68,ballControl:59,acceleration:69,sprintSpeed:69,agility:64,reactions:69,balance:65,shotPower:58,jumping:68,stamina:67,strength:68,longShots:70,aggression:62,interceptions:61,positioning:65,vision:70,penalties:61,composure:65},workrates:"Medium/Medium",weakFoot:3,skillMoves:3,nationality:"France",club:"Nice",value:"‚Ç¨10.7M",wage:"‚Ç¨162K",contract:"2025",sofifaId:226221,sofifaUrl:"https://sofifa.com/player/226221/?r=250001"},"Jeremiah St. Juste":{overall:77,potential:79,positions:["CB"],age:27,height:183,weight:67,foot:"Right",pace:72,shooting:74,passing:73,dribbling:69,defending:92,physical:88,skills:{crossing:58,finishing:60,headingAccuracy:71,shortPassing:57,volleys:61,curve:59,fkAccuracy:58,longPassing:62,ballControl:69,acceleration:57,sprintSpeed:69,agility:67,reactions:61,balance:57,shotPower:62,jumping:58,stamina:69,strength:70,longShots:68,aggression:60,interceptions:73,positioning:59,vision:63,penalties:64,composure:60},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Netherlands",club:"Sporting CP",value:"‚Ç¨76.7M",wage:"‚Ç¨453K",contract:"2025",sofifaId:231442,sofifaUrl:"https://sofifa.com/player/231442/?r=250001"},"David Alaba":{overall:84,potential:84,positions:["CB","LB"],age:32,height:191,weight:76,foot:"Right",pace:88,shooting:78,passing:79,dribbling:88,defending:90,physical:82,skills:{crossing:67,finishing:60,headingAccuracy:77,shortPassing:72,volleys:78,curve:68,fkAccuracy:78,longPassing:67,ballControl:70,acceleration:71,sprintSpeed:66,agility:68,reactions:72,balance:72,shotPower:73,jumping:76,stamina:65,strength:69,longShots:76,aggression:73,interceptions:85,positioning:71,vision:71,penalties:73,composure:64},workrates:"Medium/Medium",weakFoot:2,skillMoves:2,nationality:"Austria",club:"Real Madrid",value:"‚Ç¨96.8M",wage:"‚Ç¨420K",contract:"2025",sofifaId:197445,sofifaUrl:"https://sofifa.com/player/197445/?r=250001"},"Saud Abdulhamid":{overall:71,potential:75,positions:["RB"],age:25,height:188,weight:66,foot:"Right",pace:75,shooting:64,passing:75,dribbling:73,defending:76,physical:68,skills:{crossing:60,finishing:52,headingAccuracy:62,shortPassing:58,volleys:60,curve:57,fkAccuracy:60,longPassing:59,ballControl:64,acceleration:62,sprintSpeed:60,agility:53,reactions:56,balance:51,shotPower:57,jumping:64,stamina:59,strength:61,longShots:59,aggression:64,interceptions:63,positioning:64,vision:63,penalties:57,composure:53},workrates:"Medium/Medium",weakFoot:4,skillMoves:4,nationality:"Saudi Arabia",club:"AS Roma",value:"‚Ç¨36.8M",wage:"‚Ç¨499K",contract:"2025",sofifaId:251880,sofifaUrl:"https://sofifa.com/player/251880/?r=250001"},"Luk√°≈° Hr√°deck√Ω":{overall:82,potential:82,positions:["GK"],age:34,height:191,weight:79,foot:"Right",pace:70,shooting:40,passing:77,dribbling:60,defending:79,physical:79,skills:{crossing:50,finishing:40,headingAccuracy:73,shortPassing:73,volleys:75,curve:63,fkAccuracy:71,longPassing:63,ballControl:75,acceleration:71,sprintSpeed:69,agility:74,reactions:67,balance:72,shotPower:65,jumping:76,stamina:63,strength:68,longShots:63,aggression:71,interceptions:62,positioning:75,vision:65,penalties:74,composure:73},workrates:"Medium/Medium",weakFoot:3,skillMoves:4,nationality:"Finland",club:"Bayer Leverkusen",value:"‚Ç¨31.4M",wage:"‚Ç¨305K",contract:"2025",sofifaId:183705,sofifaUrl:"https://sofifa.com/player/183705/?r=250001"},Alisson:{overall:89,potential:89,positions:["GK"],age:31,height:181,weight:87,foot:"Right",pace:70,shooting:40,passing:81,dribbling:60,defending:90,physical:87,skills:{crossing:50,finishing:40,headingAccuracy:72,shortPassing:77,volleys:71,curve:78,fkAccuracy:73,longPassing:69,ballControl:78,acceleration:77,sprintSpeed:72,agility:70,reactions:74,balance:71,shotPower:71,jumping:69,stamina:80,strength:82,longShots:80,aggression:72,interceptions:80,positioning:87,vision:80,penalties:76,composure:74},workrates:"Medium/Medium",weakFoot:3,skillMoves:3,nationality:"Brazil",club:"Liverpool",value:"‚Ç¨106.7M",wage:"‚Ç¨63K",contract:"2025",sofifaId:212831,sofifaUrl:"https://sofifa.com/player/212831/?r=250001"}});const R=({player:l,size:s="medium",showDetails:i=!0,onPlayerClick:t})=>{var M;const[a,n]=k.useState(null),[o,r]=k.useState(!1);k.useEffect(()=>{(async()=>{if(l!=null&&l.name){r(!0);try{const A=await D.getPlayerData(l.name);n(A)}catch(A){console.error("Error loading FIFA data for",l.name,":",A),n(null)}finally{r(!1)}}})()},[l==null?void 0:l.name]);const u=h=>h>=90?"bg-gradient-to-br from-purple-600 to-purple-700 shadow-purple-500/30":h>=85?"bg-gradient-to-br from-yellow-400 to-yellow-500 shadow-yellow-500/30":h>=80?"bg-gradient-to-br from-gray-400 to-gray-500 shadow-gray-500/30":h>=75?"bg-gradient-to-br from-orange-400 to-orange-500 shadow-orange-500/30":"bg-gradient-to-br from-gray-600 to-gray-700 shadow-gray-600/30",d=h=>h>=90?"text-white":h>=85?"text-yellow-900":h>=80?"text-gray-900":h>=75?"text-orange-900":"text-white",m=h=>h>=85?"rating-excellent":h>=75?"rating-good":h>=65?"rating-average":"rating-poor",g=(()=>{switch(s){case"small":return{card:"w-32 h-44",overall:"text-lg",name:"text-xs",position:"text-xs",attributes:"text-xs",spacing:"space-y-1"};case"large":return{card:"w-48 h-64",overall:"text-3xl",name:"text-sm",position:"text-sm",attributes:"text-sm",spacing:"space-y-2"};default:return{card:"w-40 h-56",overall:"text-2xl",name:"text-sm",position:"text-xs",attributes:"text-xs",spacing:"space-y-1"}}})(),x=(a==null?void 0:a.overall)||65,p=u(x),y=d(x),S=()=>{t&&t(l)};return o?e.jsx("div",{className:`${g.card} ea-card-loading rounded-lg flex items-center justify-center`,children:e.jsx("div",{className:"text-gray-400",children:e.jsx("i",{className:"fas fa-spinner fa-spin"})})}):e.jsxs("div",{className:`ea-player-card ${g.card} ${p} rounded-lg shadow-lg relative overflow-hidden transform transition-all duration-200 hover:scale-105 ${t?"cursor-pointer":""}`,onClick:S,children:[e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${l.team==="AEK"?"bg-blue-600 text-white":l.team==="Real"?"bg-red-600 text-white":"bg-gray-600 text-white"}`,children:l.team})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:`${g.overall} font-bold ${y} bg-black/20 rounded-full w-12 h-12 flex items-center justify-center`,children:x})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:e.jsxs("div",{className:`${g.spacing}`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:`${g.name} font-bold ${y} truncate`,children:l.name}),e.jsx("span",{className:`${g.position} ${y} bg-black/20 px-2 py-1 rounded`,children:((M=a==null?void 0:a.positions)==null?void 0:M[0])||l.position||"N/A"})]}),i&&a&&e.jsxs("div",{className:`grid grid-cols-3 gap-1 ${g.spacing} mt-2`,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.pace)}`,children:a.pace||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"PAC"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.shooting)}`,children:a.shooting||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"SHO"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.passing)}`,children:a.passing||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"PAS"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.dribbling)}`,children:a.dribbling||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"DRI"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.defending)}`,children:a.defending||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"DEF"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`${g.attributes} font-bold ${m(a.physical)}`,children:a.physical||65}),e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:"PHY"})]})]}),i&&e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:`${g.attributes} ${y} opacity-80`,children:["Tore: ",l.goals||0]}),l.value&&e.jsx("div",{className:`${g.attributes} ${y} opacity-80`,children:typeof l.value=="number"?`${l.value}M ‚Ç¨`:l.value})]})]})}),(a==null?void 0:a.source)&&e.jsx("div",{className:"absolute bottom-1 right-1",children:e.jsx("div",{className:`text-xs ${y} opacity-60 bg-black/20 px-1 rounded`,children:a.source==="json_database"?"üéÆ":a.source==="sofifa_enhanced"?"üåê":a.generated?"ü§ñ":"üìä"})})]})},se=({player:l,isOpen:s,onClose:i})=>{const[t,a]=k.useState(null),[n,o]=k.useState(!1),[r,u]=k.useState(null),d=k.useCallback(async()=>{o(!0);try{const w=await D.getPlayerData(l.name);a(w)}catch(w){console.error("Error loading FIFA data:",w),a(null)}finally{o(!1)}},[l.name]);k.useEffect(()=>{s&&l&&d()},[s,l,d]);const m=()=>{switch(l==null?void 0:l.team){case"AEK":return"team-aek";case"Real":return"team-real";case"Ehemalige":return"team-ehemalige";default:return""}},v=()=>{switch(l==null?void 0:l.team){case"AEK":return"AEK Athens";case"Real":return"Real Madrid";case"Ehemalige":return"Former Players";default:return l==null?void 0:l.team}},g=w=>w.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase()).trim(),x=w=>{u(r===w?null:w)},p=()=>e.jsxs("div",{className:"ea-player-card-section mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-gamepad text-blue-400"}),"EA Sports FC Player Card"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("div",{className:"transform scale-125",children:e.jsx(R,{player:l,size:"large",showDetails:!0})})})]}),y=()=>{const w=typeof l.value=="number"?l.value:l.value?parseFloat(l.value):0;return e.jsxs("div",{className:"basic-info-section mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-user text-blue-400"}),"Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Team"}),e.jsx("span",{className:`font-semibold ${m()==="team-aek"?"text-blue-400":m()==="team-real"?"text-red-400":"text-gray-400"}`,children:v()})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Position"}),e.jsx("span",{className:"text-white font-semibold",children:l.position||"Not specified"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Market Value"}),e.jsx("span",{className:"text-green-400 font-semibold",children:w?w+"M ‚Ç¨":"Not valued"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Goals Scored"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:l.goals||0})]})]})]})},S=()=>t?e.jsxs("div",{className:"fifa-overview grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:`fifa-card p-6 rounded-2xl text-center ${D.getPlayerCardColor(t.overall)} shadow-lg`,children:[e.jsxs("div",{className:"fifa-rating mb-3",children:[e.jsx("span",{className:"block text-4xl font-black",children:t.overall}),e.jsx("span",{className:"text-sm font-semibold uppercase tracking-wide opacity-80",children:"OVR"})]}),e.jsx("div",{className:"fifa-positions mb-3",children:t.positions.map((w,b)=>e.jsx("span",{className:"inline-block bg-black/20 px-2 py-1 rounded text-xs font-semibold mx-1",children:w},b))}),e.jsxs("div",{className:"fifa-potential pt-3 border-t border-black/20",children:[e.jsx("span",{className:"block text-2xl font-bold",children:t.potential}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide opacity-80",children:"POT"})]})]}),e.jsx("div",{className:"player-details bg-white/5 rounded-lg p-6 border border-white/10",children:e.jsx("div",{className:"space-y-3",children:[{label:"Age",value:t.age},{label:"Height",value:`${t.height}cm`},{label:"Weight",value:`${t.weight}kg`},{label:"Preferred Foot",value:t.foot},{label:"Weak Foot",value:"‚≠ê".repeat(t.weakFoot)+"‚òÜ".repeat(5-t.weakFoot)},{label:"Skill Moves",value:"‚≠ê".repeat(t.skillMoves)+"‚òÜ".repeat(5-t.skillMoves)},{label:"Work Rates",value:t.workrates},...t.nationality!=="Unknown"?[{label:"Nationality",value:t.nationality}]:[],...t.value?[{label:"FIFA Value",value:t.value}]:[]].map((w,b)=>e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10 last:border-b-0",children:[e.jsxs("span",{className:"text-slate-400 text-sm",children:[w.label,":"]}),e.jsx("span",{className:"text-white font-semibold text-sm",children:w.value})]},b))})})]}):null,M=()=>{if(!t)return null;const w=[{name:"PAC",fullName:"Pace",value:t.pace,icon:"üèÉ",color:"from-green-400 to-emerald-500"},{name:"SHO",fullName:"Shooting",value:t.shooting,icon:"‚öΩ",color:"from-red-400 to-rose-500"},{name:"PAS",fullName:"Passing",value:t.passing,icon:"üéØ",color:"from-blue-400 to-cyan-500"},{name:"DRI",fullName:"Dribbling",value:t.dribbling,icon:"‚ö°",color:"from-yellow-400 to-amber-500"},{name:"DEF",fullName:"Defending",value:t.defending,icon:"üõ°Ô∏è",color:"from-purple-400 to-violet-500"},{name:"PHY",fullName:"Physical",value:t.physical,icon:"üí™",color:"from-orange-400 to-red-500"}];return e.jsxs("div",{className:"fifa-attributes mb-8",children:[e.jsxs("h4",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-chart-bar text-blue-400"}),"FIFA Main Attributes"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((b,N)=>e.jsxs("div",{className:"bg-white/5 rounded-xl p-6 border border-white/10 hover:bg-white/10 transition-all duration-300 transform hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:b.icon}),e.jsxs("div",{children:[e.jsx("span",{className:"text-white font-bold text-xl",children:b.name}),e.jsx("div",{className:"text-slate-400 text-sm",children:b.fullName})]})]}),e.jsx("div",{className:`bg-gradient-to-br ${b.color} text-white font-bold text-2xl px-4 py-2 rounded-lg shadow-lg`,children:b.value})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 bg-gradient-to-r ${b.color} shadow-lg`,style:{width:`${b.value}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"50"}),e.jsx("span",{children:"99"})]})]},N))})]})},h=()=>{if(!(t!=null&&t.skills))return null;const w=[{name:"Shooting Skills",icon:"‚öΩ",color:"from-red-400 to-rose-500",skills:["finishing","volleys","penalties","shotPower","longShots"]},{name:"Passing Skills",icon:"üéØ",color:"from-blue-400 to-cyan-500",skills:["vision","crossing","curve","shortPassing","longPassing"]},{name:"Movement Skills",icon:"üèÉ",color:"from-green-400 to-emerald-500",skills:["acceleration","sprintSpeed","agility","reactions","balance"]},{name:"Physical Skills",icon:"üí™",color:"from-orange-400 to-red-500",skills:["jumping","stamina","strength","aggression"]},{name:"Mental Skills",icon:"üß†",color:"from-purple-400 to-violet-500",skills:["positioning","composure","interceptions"]},{name:"Technical Skills",icon:"‚ö°",color:"from-yellow-400 to-amber-500",skills:["ballControl","headingAccuracy","fkAccuracy"]}];return e.jsxs("div",{className:"fifa-skills",children:[e.jsxs("h4",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-cogs text-blue-400"}),"Detailed Skills & Attributes"]}),e.jsx("div",{className:"space-y-3",children:w.map((b,N)=>e.jsxs("div",{className:"bg-white/5 rounded-xl border border-white/10 overflow-hidden hover:bg-white/10 transition-all duration-300",children:[e.jsxs("button",{className:"w-full px-6 py-4 text-left flex justify-between items-center text-white font-medium hover:bg-white/5 transition-colors",onClick:()=>x(N),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:b.icon}),e.jsx("span",{className:"text-lg",children:b.name}),e.jsxs("span",{className:"text-sm text-slate-400",children:["(",b.skills.filter(j=>t.skills[j]!==void 0).length," skills)"]})]}),e.jsx("i",{className:`fas fa-chevron-${r===N?"up":"down"} text-slate-400 transition-transform duration-200`})]}),r===N&&e.jsx("div",{className:"px-6 pb-6 border-t border-white/10",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:b.skills.filter(j=>t.skills[j]!==void 0).map(j=>e.jsxs("div",{className:"flex items-center gap-4 bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-colors",children:[e.jsx("span",{className:"text-slate-300 text-sm flex-1 font-medium",children:g(j)}),e.jsx("div",{className:`bg-gradient-to-r ${b.color} text-white font-bold text-lg px-3 py-1 rounded-lg shadow-lg min-w-[3rem] text-center`,children:t.skills[j]}),e.jsx("div",{className:"w-20 h-3 bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-300 bg-gradient-to-r ${b.color} shadow-lg`,style:{width:`${t.skills[j]}%`}})})]},j))})})]},N))})]})},A=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl text-slate-600 mb-6",children:e.jsx("i",{className:"fas fa-search"})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"FIFA Data Not Available"}),e.jsx("p",{className:"text-slate-400 mb-6 max-w-md mx-auto",children:t!=null&&t.generated?"This player was not found in our FIFA database. Showing estimated ratings.":"FIFA statistics for this player are not currently available."}),(t==null?void 0:t.generated)&&e.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 mx-auto max-w-md mb-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Overall:"}),e.jsxs("span",{className:"text-white",children:[t.overall," (Est.)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Potential:"}),e.jsxs("span",{className:"text-white",children:[t.potential," (Est.)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Height:"}),e.jsxs("span",{className:"text-white",children:[t.height,"cm (Est.)"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-400",children:"Foot:"}),e.jsxs("span",{className:"text-white",children:[t.foot," (Est.)"]})]})]}),e.jsxs("p",{className:"text-yellow-400 text-xs mt-3 flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),"These are estimated values and may not reflect actual FIFA ratings."]})]}),e.jsxs("div",{className:"text-slate-500 text-sm",children:[e.jsx("i",{className:"fas fa-info-circle mr-2"}),"FIFA ratings are sourced from ",e.jsx("a",{href:"https://sofifa.com",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"SoFIFA.com"})]})]});return!s||!l?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm modal-overlay animate-fade-in",children:e.jsxs("div",{className:"enhanced-modal bg-gradient-to-br from-slate-800 to-slate-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl border border-white/10 animate-scale-in",children:[e.jsxs("div",{className:"modal-header bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"animate-slide-in-left",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:l.name}),e.jsxs("div",{className:"flex gap-3 mt-2",children:[e.jsx("span",{className:`modal-badge px-3 py-1 rounded-full text-sm font-semibold animate-slide-in-left ${m()==="team-aek"?"bg-blue-500/20 text-blue-300":m()==="team-real"?"bg-red-500/20 text-red-300":"bg-gray-500/20 text-gray-300"}`,style:{animationDelay:"0.1s"},children:v()}),e.jsx("span",{className:"modal-badge bg-white/20 text-white px-3 py-1 rounded-full text-sm font-semibold animate-slide-in-left",style:{animationDelay:"0.2s"},children:l.position||"N/A"}),(t==null?void 0:t.found)&&e.jsxs("span",{className:"modal-badge bg-gradient-to-r from-yellow-400 to-yellow-500 text-yellow-900 px-3 py-1 rounded-full text-sm font-bold animate-slide-in-left",style:{animationDelay:"0.3s"},children:["FIFA ",t.overall]})]})]}),e.jsx("button",{onClick:i,className:"modal-close-btn w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center text-white transition-all duration-300 hover:scale-110 active:scale-95 animate-slide-in-right",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"modal-body p-6 max-h-[calc(90vh-120px)] overflow-y-auto custom-scrollbar",children:n?e.jsxs("div",{className:"text-center py-12 animate-pulse-gentle",children:[e.jsx("div",{className:"text-4xl text-blue-400 mb-4 animate-bounce-gentle",children:e.jsx("i",{className:"fas fa-spinner fa-spin"})}),e.jsx("p",{className:"text-slate-400",children:"Loading FIFA data..."})]}):e.jsxs("div",{className:"modal-content-wrapper",children:[e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.2s"},children:p()}),e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.4s"},children:y()}),t!=null&&t.found?e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.6s"},children:e.jsxs("div",{className:"fifa-stats-section",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white mb-6 flex items-center gap-3",children:[e.jsx("i",{className:"fas fa-trophy text-yellow-400"}),"FIFA Statistics & Analysis",t.sofifaUrl&&e.jsxs("a",{href:t.sofifaUrl,target:"_blank",rel:"noopener noreferrer",className:"ml-auto bg-blue-500/10 text-blue-400 px-3 py-1 rounded-lg text-sm font-medium hover:bg-blue-500/20 transition-all duration-300 border border-blue-500/20 hover:scale-105",children:[e.jsx("i",{className:"fas fa-external-link-alt mr-2"}),"View on SoFIFA"]})]}),e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.8s"},children:S()}),e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"1.0s"},children:M()}),e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"1.2s"},children:h()})]})}):e.jsx("div",{className:"animate-fade-in",style:{animationDelay:"0.6s"},children:A()})]})})]})})},ae=({players:l,loading:s,onPlayerClick:i})=>{const[t,a]=k.useState("cards"),[n,o]=k.useState("overall"),[r,u]=k.useState("all"),d=h=>l?l.filter(A=>A.team===h):[],m=d("AEK"),v=d("Real"),g=[...m,...v],x=r==="all"?g:r==="AEK"?m:r==="Real"?v:[],p=h=>{if(!h.length)return{totalGoals:0,totalValue:0,avgGoals:0};const A=h.reduce((N,j)=>N+(j.goals||0),0),w=h.reduce((N,j)=>N+(j.value||0),0),b=A/h.length;return{totalGoals:A,totalValue:w,avgGoals:b.toFixed(1)}},y=p(m),S=p(v),M=h=>typeof h=="number"?`${h.toFixed(1)}M ‚Ç¨`:h||"N/A";return s?e.jsx("div",{className:"modern-card",children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-blue"}),e.jsx("span",{className:"ml-3 text-text-muted",children:"Loading player data..."})]})}):e.jsxs("div",{className:"ea-squad-overview space-y-6",children:[e.jsxs("div",{className:"modern-card",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-text-primary flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:"‚öΩ"}),"EA Sports FC Squad Overview"]}),e.jsx("p",{className:"text-text-muted mt-1",children:"FIFA-style player cards with EA Sports FC ratings and statistics"})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex rounded-lg bg-bg-secondary p-1",children:[e.jsxs("button",{onClick:()=>a("cards"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${t==="cards"?"bg-primary-blue text-white":"text-text-muted hover:text-text-primary"}`,children:[e.jsx("i",{className:"fas fa-th-large mr-1"}),"Cards"]}),e.jsxs("button",{onClick:()=>a("table"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${t==="table"?"bg-primary-blue text-white":"text-text-muted hover:text-text-primary"}`,children:[e.jsx("i",{className:"fas fa-table mr-1"}),"Table"]})]}),e.jsxs("select",{value:r,onChange:h=>u(h.target.value),className:"px-3 py-1 rounded-lg bg-bg-secondary text-text-primary border border-border-light text-sm",children:[e.jsx("option",{value:"all",children:"All Teams"}),e.jsx("option",{value:"AEK",children:"AEK Athens"}),e.jsx("option",{value:"Real",children:"Real Madrid"})]}),e.jsxs("select",{value:n,onChange:h=>o(h.target.value),className:"px-3 py-1 rounded-lg bg-bg-secondary text-text-primary border border-border-light text-sm",children:[e.jsx("option",{value:"overall",children:"Overall Rating"}),e.jsx("option",{value:"name",children:"Name"}),e.jsx("option",{value:"position",children:"Position"}),e.jsx("option",{value:"goals",children:"Goals"}),e.jsx("option",{value:"value",children:"Market Value"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"üîµ"}),e.jsx("h3",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"AEK Athens"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:m.length}),e.jsx("div",{className:"text-text-muted",children:"Players"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:y.totalGoals}),e.jsx("div",{className:"text-text-muted",children:"Goals"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-blue-700 dark:text-blue-300",children:M(y.totalValue)}),e.jsx("div",{className:"text-text-muted",children:"Squad Value"})]})]})]}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4 border border-red-200 dark:border-red-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:"üî¥"}),e.jsx("h3",{className:"font-semibold text-red-700 dark:text-red-300",children:"Real Madrid"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-red-700 dark:text-red-300",children:v.length}),e.jsx("div",{className:"text-text-muted",children:"Players"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-red-700 dark:text-red-300",children:S.totalGoals}),e.jsx("div",{className:"text-text-muted",children:"Goals"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-lg text-red-700 dark:text-red-300",children:M(S.totalValue)}),e.jsx("div",{className:"text-text-muted",children:"Squad Value"})]})]})]})]})]}),e.jsx("div",{className:"modern-card",children:t==="cards"?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-th-large text-primary-blue"}),"Player Cards (",x.length,")"]}),x.length>0?e.jsx("div",{className:"ea-squad-grid grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:x.map(h=>e.jsx(R,{player:h,size:"medium",showDetails:!0,onPlayerClick:i},h.id))}):e.jsxs("div",{className:"text-center py-8 text-text-muted",children:[e.jsx("i",{className:"fas fa-users text-4xl mb-4 opacity-50"}),e.jsx("p",{children:"No players found for the selected filters"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx("i",{className:"fas fa-table text-primary-blue"}),"Player Statistics Table (",x.length,")"]}),x.length>0?e.jsx("div",{className:"ea-squad-table overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-border-light",children:[e.jsx("th",{className:"text-left py-3 px-2",children:"Player"}),e.jsx("th",{className:"text-left py-3 px-2",children:"Team"}),e.jsx("th",{className:"text-center py-3 px-2",children:"OVR"}),e.jsx("th",{className:"text-center py-3 px-2",children:"Position"}),e.jsx("th",{className:"text-center py-3 px-2",children:"PAC"}),e.jsx("th",{className:"text-center py-3 px-2",children:"SHO"}),e.jsx("th",{className:"text-center py-3 px-2",children:"PAS"}),e.jsx("th",{className:"text-center py-3 px-2",children:"DRI"}),e.jsx("th",{className:"text-center py-3 px-2",children:"DEF"}),e.jsx("th",{className:"text-center py-3 px-2",children:"PHY"}),e.jsx("th",{className:"text-center py-3 px-2",children:"Goals"}),e.jsx("th",{className:"text-right py-3 px-2",children:"Value"})]})}),e.jsx("tbody",{children:x.map(h=>e.jsxs("tr",{className:"border-b border-border-light hover:bg-bg-secondary",children:[e.jsx("td",{className:"py-3 px-2",children:e.jsx("div",{className:"font-medium text-text-primary",children:h.name})}),e.jsx("td",{className:"py-3 px-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.team==="AEK"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:h.team})}),e.jsx("td",{className:"py-3 px-2 text-center",children:e.jsx(R,{player:h,size:"small",showDetails:!1})}),e.jsx("td",{className:"py-3 px-2 text-center",children:e.jsx("span",{className:"px-2 py-1 rounded bg-bg-tertiary text-xs",children:h.position||"N/A"})}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-mono",children:"-"}),e.jsx("td",{className:"py-3 px-2 text-center font-bold text-yellow-600",children:h.goals||0}),e.jsx("td",{className:"py-3 px-2 text-right font-medium text-green-600",children:M(h.value)})]},h.id))})]})}):e.jsxs("div",{className:"text-center py-8 text-text-muted",children:[e.jsx("i",{className:"fas fa-table text-4xl mb-4 opacity-50"}),e.jsx("p",{children:"No players found for the selected filters"})]})]})}),e.jsx("div",{className:"modern-card bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 lg:hidden",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("i",{className:"fas fa-mobile-alt text-blue-600 dark:text-blue-400 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-700 dark:text-blue-300 mb-1",children:"Mobile Optimized"}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"This view is optimized for mobile devices. Swipe horizontally on tables for better navigation."})]})]})})]})};function de({onNavigate:l,showHints:s=!1}){const[i,t]=k.useState(null),[a,n]=k.useState(!1),[o,r]=k.useState(null),[u,d]=k.useState(null),[m,v]=k.useState(!1),[g,x]=k.useState("classic"),{data:p,loading:y,error:S,refetch:M}=J("players","*"),{update:h}=H("players"),A={TH:0,IV:1,LV:2,RV:3,ZDM:4,ZM:5,ZOM:6,LM:7,RM:8,LF:9,RF:10,ST:11},w=c=>c==="TH"?"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200":["IV","LV","RV","ZDM"].includes(c)?"inline-block px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200":["ZM","ZOM","LM","RM"].includes(c)?"inline-block px-2 py-1 rounded text-xs font-medium bg-yellow-100 text-yellow-800 border border-yellow-200":["LF","RF","ST"].includes(c)?"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200":"inline-block px-2 py-1 rounded text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",b=c=>(p||[]).filter(f=>f.team===c).sort((f,F)=>(A[f.position]||99)-(A[F.position]||99)),N=c=>p?p.filter(f=>f.team===c).reduce((f,F)=>f+(F.value||0),0):0,j=c=>`${(c||0).toFixed(1)}M ‚Ç¨`,E=c=>{const f="modern-card";return c==="AEK"?`${f} border-l-4 border-blue-400`:c==="Real"?`${f} border-l-4 border-red-400`:c==="Ehemalige"?`${f} border-l-4 border-slate-400`:f},U=()=>{if(!p||p.length===0){alert("Keine Spieler f√ºr Report verf√ºgbar");return}const c=p.map(f=>`${f.name} (${f.team}): ${f.goals||0} Tore, ${f.position||"Unbekannt"}, Wert: ${j(f.value||0)}`).join(`
`);alert(`üìä Spieler-Report:

${c}`)},K=c=>c==="AEK"?"text-blue-600":c==="Real"?"text-red-600":c==="Ehemalige"?"text-slate-600":"text-gray-600",T=async c=>{r(c)},z=async c=>{try{await h(c,o.id),I.success(`Spieler ${c.name} erfolgreich aktualisiert`),r(null),M()}catch(f){I.error("Fehler beim Aktualisieren des Spielers: "+f.message)}},$=c=>{d(c),v(!0)},O=()=>{v(!1),d(null)};if(y)return e.jsx(Z,{message:"Lade Kader..."});if(S)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-accent-red mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle text-2xl"})}),e.jsx("p",{className:"text-text-muted mb-4",children:"Fehler beim Laden des Kaders"}),e.jsx("button",{onClick:M,className:"btn-primary",children:"Erneut versuchen"})]});const B=b("AEK"),W=b("Real"),G=b("Ehemalige"),V=[{id:"aek",name:"AEK",displayName:"AEK Athen",players:B,squadValue:N("AEK"),icon:"üîµ"},{id:"real",name:"Real",displayName:"Real Madrid",players:W,squadValue:N("Real"),icon:"üî¥"},{id:"ehemalige",name:"Ehemalige",displayName:"Ehemalige",players:G,squadValue:N("Ehemalige"),icon:"‚ö™"}];return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Kader-√úbersicht"}),e.jsxs("p",{className:"text-text-muted",children:[(p==null?void 0:p.length)||0," Spieler insgesamt"]})]}),e.jsxs("div",{className:"modern-card mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-4",children:[e.jsx("div",{children:e.jsxs("h3",{className:"font-bold text-lg flex items-center",children:[e.jsx("span",{className:"mr-2",children:"‚ö°"}),"Kader-Management"]})}),e.jsxs("div",{className:"flex rounded-lg bg-bg-secondary p-1",children:[e.jsxs("button",{onClick:()=>x("classic"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="classic"?"bg-primary-blue text-white":"text-text-muted hover:text-text-primary"}`,children:[e.jsx("i",{className:"fas fa-list mr-1"}),"Classic View"]}),e.jsxs("button",{onClick:()=>x("ea"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${g==="ea"?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg":"text-text-muted hover:text-text-primary"}`,children:[e.jsx("i",{className:"fas fa-gamepad mr-1"}),"EA Sports FC"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:U,className:"flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[e.jsx("span",{children:"üìä"}),e.jsx("span",{children:"Spieler-Report"})]}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center justify-center space-x-2 bg-orange-600 text-white py-3 px-4 rounded-lg hover:bg-orange-700 transition-colors text-sm",children:[e.jsx("span",{children:"üì¶"}),e.jsx("span",{children:"Export/Import"})]}),e.jsxs("button",{onClick:()=>{const c=N("AEK")+N("Real")+N("Ehemalige"),f=p!=null&&p.length?c/p.length:0;I.success(`üìà Kader-Analyse:

Gesamtwert: ${j(c)}
Durchschnitt: ${j(f)}
Spieler gesamt: ${(p==null?void 0:p.length)||0}`,{duration:5e3})},className:"flex items-center justify-center space-x-2 bg-teal-600 text-white py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors text-sm",children:[e.jsx("span",{children:"üìà"}),e.jsx("span",{children:"Kader-Analyse"})]})]})]}),g==="ea"?e.jsx(ae,{players:p,loading:y,onPlayerClick:$}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:V.map(c=>e.jsxs("div",{className:E(c.name),children:[e.jsx("button",{onClick:()=>t(i===c.id?null:c.id),className:"w-full text-left p-4 focus:outline-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:c.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold text-lg ${K(c.name)}`,children:c.displayName}),e.jsxs("p",{className:"text-sm text-text-muted",children:[c.players.length," Spieler",c.squadValue>0&&e.jsxs("span",{className:"ml-2",children:["‚Ä¢ Kaderwert: ",j(c.squadValue)]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm text-text-muted",children:c.players.length}),e.jsx("i",{className:`fas fa-chevron-${i===c.id?"up":"down"} transition-transform`})]})]})}),i===c.id&&e.jsx("div",{className:"px-4 pb-4 border-t border-border-light mt-4 pt-4",children:c.players.length>0?e.jsx("div",{className:"grid gap-3",children:c.players.map(f=>e.jsxs("div",{className:"bg-bg-tertiary rounded-lg p-3 hover:bg-bg-secondary transition-colors cursor-pointer relative group",onClick:()=>$(f),children:[e.jsx("div",{className:"absolute top-2 right-2 text-xs bg-blue-600 text-white px-2 py-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:"üéÆ FIFA"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-text-primary group-hover:text-blue-400 transition-colors",children:f.name}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:w(f.position),children:f.position}),f.staerke&&e.jsxs("span",{className:"text-xs text-text-muted",children:["St√§rke: ",f.staerke]}),f.value!==null&&f.value!==void 0&&e.jsx("span",{className:"text-xs text-primary-green font-medium",children:j(f.value)})]}),e.jsxs("div",{className:"text-xs text-blue-400 mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("i",{className:"fas fa-info-circle mr-1"}),"Click for FIFA statistics"]})]})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:F=>{F.stopPropagation(),$(f)},className:"text-blue-400 hover:text-blue-300 transition-colors p-2 rounded-full hover:bg-blue-400/10",title:"FIFA Statistics",children:e.jsx("i",{className:"fas fa-chart-bar text-sm"})}),e.jsx("button",{onClick:F=>{F.stopPropagation(),T(f)},className:"text-text-muted hover:text-primary-green transition-colors p-1",title:"Bearbeiten",children:e.jsx("i",{className:"fas fa-edit text-sm"})})]})]})]},f.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-2",children:c.icon}),e.jsxs("p",{className:"text-text-muted",children:["Keine Spieler in ",c.displayName]})]})})]},c.id))}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green",children:(p==null?void 0:p.length)||0}),e.jsx("div",{className:"text-sm text-text-muted",children:"Gesamt Spieler"})]}),e.jsxs("div",{className:"modern-card text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange",children:L.length}),e.jsx("div",{className:"text-sm text-text-muted",children:"Positionen"})]})]})]}),a&&e.jsx(Y,{onClose:()=>n(!1)}),m&&u&&e.jsx(se,{player:u,isOpen:m,onClose:O}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary",children:"Spieler bearbeiten"}),e.jsx("button",{onClick:()=>r(null),className:"text-text-muted hover:text-text-primary",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx(ie,{player:o,onSave:z,onCancel:()=>r(null)})]})})})]})}function ie({player:l,onSave:s,onCancel:i}){const[t,a]=k.useState({name:l.name||"",position:l.position||"",value:l.value||0,team:l.team||""}),n=o=>{if(o.preventDefault(),!t.name||!t.position||!t.team){I.error("Bitte alle Pflichtfelder ausf√ºllen");return}s(t)};return e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Name *"}),e.jsx("input",{type:"text",value:t.name,onChange:o=>a({...t,name:o.target.value}),className:"w-full px-3 py-2 border border-border-light rounded-lg focus:ring-2 focus:ring-primary-green focus:border-transparent",placeholder:"Spielername",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Position *"}),e.jsxs("select",{value:t.position,onChange:o=>a({...t,position:o.target.value}),className:"w-full px-3 py-2 border border-border-light rounded-lg focus:ring-2 focus:ring-primary-green focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Position w√§hlen"}),L.map(o=>e.jsx("option",{value:o,children:o},o))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Team *"}),e.jsxs("select",{value:t.team,onChange:o=>a({...t,team:o.target.value}),className:"w-full px-3 py-2 border border-border-light rounded-lg focus:ring-2 focus:ring-primary-green focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Team w√§hlen"}),e.jsx("option",{value:"AEK",children:"AEK Athen"}),e.jsx("option",{value:"Real",children:"Real Madrid"}),e.jsx("option",{value:"Ehemalige",children:"Ehemalige"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-1",children:"Marktwert (in Millionen ‚Ç¨)"}),e.jsx("input",{type:"number",min:"0",step:"0.1",value:t.value,onChange:o=>a({...t,value:parseFloat(o.target.value)||0}),onFocus:o=>o.target.select(),className:"w-full px-3 py-2 border border-border-light rounded-lg focus:ring-2 focus:ring-primary-green focus:border-transparent",placeholder:"0.0"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 bg-primary-green text-white py-2 px-4 rounded-lg hover:bg-primary-green/90 transition-colors",children:"Speichern"}),e.jsx("button",{type:"button",onClick:i,className:"flex-1 bg-bg-secondary text-text-muted py-2 px-4 rounded-lg hover:bg-bg-tertiary transition-colors",children:"Abbrechen"})]})]})}export{de as default};
