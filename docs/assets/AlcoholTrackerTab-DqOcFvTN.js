import{r as g,j as e}from"./index-CSgJW95j.js";function O({onNavigate:M}){const[o,v]=g.useState({aek:{name:"Alexander",age:30,weight:100},real:{name:"Philip",age:30,weight:105}}),[n,w]=g.useState({alexander:0,philip:0}),[t,S]=g.useState({alexander:{shots20:0,shots40:0},philip:{shots20:0,shots40:0}}),[a,m]=g.useState(null);g.useEffect(()=>{const s=localStorage.getItem("teamManagers");if(s)try{v(JSON.parse(s))}catch(i){console.error("Error loading manager settings:",i)}const r=localStorage.getItem("beerConsumption");if(r)try{w(JSON.parse(r))}catch(i){console.error("Error loading beer consumption:",i)}const l=localStorage.getItem("shotConsumption");if(l)try{S(JSON.parse(l))}catch(i){console.error("Error loading shot consumption:",i)}const d=localStorage.getItem("drinkingStartTime");d&&m(d);const c=()=>{const i=localStorage.getItem("teamManagers");if(i)try{v(JSON.parse(i))}catch(x){console.error("Error loading manager settings:",x)}};return window.addEventListener("managerSettingsChanged",c),()=>window.removeEventListener("managerSettingsChanged",c)},[]);const b=s=>{w(s),localStorage.setItem("beerConsumption",JSON.stringify(s))},y=s=>{S(s),localStorage.setItem("shotConsumption",JSON.stringify(s))},k=s=>{const r={...n,[s]:n[s]+1};if(b(r),!a){const l=new Date().toISOString();m(l),localStorage.setItem("drinkingStartTime",l)}},C=()=>{const s={alexander:n.alexander+1,philip:n.philip+1};if(b(s),!a){const r=new Date().toISOString();m(r),localStorage.setItem("drinkingStartTime",r)}},p=(s,r)=>{const l=r===40?"shots40":"shots20",d={...t,[s]:{...t[s],[l]:t[s][l]+1}};if(y(d),!a){const c=new Date().toISOString();m(c),localStorage.setItem("drinkingStartTime",c)}},A=()=>{b({alexander:0,philip:0}),y({alexander:{shots20:0,shots40:0},philip:{shots20:0,shots40:0}}),m(null),localStorage.removeItem("drinkingStartTime")},h=(s,r,l,d=null)=>{if(!l.weight||s===0&&(!r||r.shots20===0&&r.shots40===0))return"0.00";const c=s*25*.789;let i=0;r&&(i=r.shots20*20*.2*.789+r.shots40*20*.4*.789);const x=c+i,j=l.gender==="male"?.7:.6;let u=x/(j*l.weight);if(d){const f=new Date,N=new Date(d),I=(f-N)/(1e3*60*60)*.15;u=Math.max(0,u-I)}return u.toFixed(2)},B=(s,r,l,d)=>{if(!l.weight||s===0&&(!r||r.shots20===0&&r.shots40===0)||!d)return null;const c=s*25*.789;let i=0;r&&(i=r.shots20*20*.2*.789+r.shots40*20*.4*.789);const x=c+i,j=l.gender==="male"?.7:.6,f=x/(j*l.weight)/.15,N=new Date(d);return new Date(N.getTime()+f*60*60*1e3)},T=({bac:s,name:r})=>{const l=parseFloat(s),c=Math.min(l/2*100,100),i=x=>x>=1?"bg-red-500":x>=.5?"bg-orange-500":x>=.3?"bg-yellow-500":"bg-green-500";return e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsx("span",{children:"0â€°"}),e.jsxs("span",{children:[r," BAC"]}),e.jsx("span",{children:"2â€°"})]}),e.jsxs("div",{className:"w-full bg-gray-200 rounded-full h-4 relative",children:[e.jsx("div",{className:`h-4 rounded-full transition-all duration-500 ${i(l)}`,style:{width:`${c}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold text-white",children:[s,"â€°"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"NÃ¼chtern"}),e.jsx("span",{children:"Betrunken"})]})]})},E=()=>{if(!a)return null;const s=new Date,r=new Date(a),l=(s-r)/(1e3*60*60);return l<1?`${Math.floor(l*60)} Minuten`:`${l.toFixed(1)} Stunden`};return e.jsxs("div",{className:"p-4 pb-20",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"ğŸº Bier-Tracker (Alexander & Philip)"}),e.jsx("p",{className:"text-text-muted",children:"Verfolgen Sie den Bierkonsum von Alexander und Philip mit individueller BAK-Berechnung."}),a&&e.jsxs("div",{className:"mt-2 text-sm text-text-muted",children:["ğŸ“… Trinken gestartet vor: ",E()]})]}),e.jsxs("div",{className:"modern-card mb-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"âš¡ Schnell-Aktionen"}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{onClick:C,className:"bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700 text-white px-6 py-3 rounded-lg transition-all duration-200 font-medium text-lg",children:"ğŸ» Beiden ein Bier hinzufÃ¼gen"}),e.jsx("button",{onClick:A,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors font-medium",children:"ğŸ”„ ZurÃ¼cksetzen"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"modern-card bg-blue-50 border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-lg text-blue-700",children:["ğŸ”µ ",o.aek.name," (AEK Manager)"]}),e.jsxs("div",{className:"text-sm text-blue-600",children:[o.aek.weight,"kg"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsx("button",{onClick:()=>k("alexander"),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸº + Bier"}),e.jsx("button",{onClick:()=>p("alexander",20),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸ¥ƒ Shot 20%"}),e.jsx("button",{onClick:()=>p("alexander",40),className:"bg-blue-700 hover:bg-blue-800 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸ¥ƒ Shot 40%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:n.alexander}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"ğŸº"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:t.alexander.shots20}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"ğŸ¥ƒ20%"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-blue-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-blue-700",children:t.alexander.shots40}),e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"ğŸ¥ƒ40%"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-100 to-blue-50 border border-blue-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-700 mb-2",children:[h(n.alexander,t.alexander,{weight:o.aek.weight,gender:"male"},a),"â€°"]}),e.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Blutalkoholkonzentration (BAK)"}),(n.alexander>0||t.alexander.shots20>0||t.alexander.shots40>0)&&e.jsxs("div",{className:"text-xs text-blue-500 mt-1",children:[n.alexander>0&&`${n.alexander} Ã— 0,5L Bier`,n.alexander>0&&(t.alexander.shots20>0||t.alexander.shots40>0)&&" + ",t.alexander.shots20>0&&`${t.alexander.shots20} Ã— 2cl (20%)`,t.alexander.shots20>0&&t.alexander.shots40>0&&" + ",t.alexander.shots40>0&&`${t.alexander.shots40} Ã— 2cl (40%)`]})]}),e.jsx(T,{bac:h(n.alexander,t.alexander,{weight:o.aek.weight,gender:"male"},a),name:"Alexander"}),a&&(n.alexander>0||t.alexander.shots20>0||t.alexander.shots40>0)&&e.jsx("div",{className:"mt-3 text-center text-sm text-blue-600",children:(()=>{const s=B(n.alexander,t.alexander,{weight:o.aek.weight,gender:"male"},a);return s&&s>new Date?`ğŸ• Wieder nÃ¼chtern: ${s.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}`:parseFloat(h(n.alexander,t.alexander,{weight:o.aek.weight,gender:"male"},a))===0?"âœ… Bereits nÃ¼chtern":null})()})]})]}),e.jsxs("div",{className:"modern-card bg-green-50 border-green-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"font-bold text-lg text-green-700",children:["ğŸŸ¢ ",o.real.name," (Real Manager)"]}),e.jsxs("div",{className:"text-sm text-green-600",children:[o.real.weight,"kg"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsx("button",{onClick:()=>k("philip"),className:"bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸº + Bier"}),e.jsx("button",{onClick:()=>p("philip",20),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸ¥ƒ Shot 20%"}),e.jsx("button",{onClick:()=>p("philip",40),className:"bg-green-700 hover:bg-green-800 text-white px-3 py-2 rounded-lg transition-colors font-medium text-sm",children:"ğŸ¥ƒ Shot 40%"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:n.philip}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"ğŸº"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:t.philip.shots20}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"ğŸ¥ƒ20%"})]}),e.jsxs("div",{className:"flex items-center justify-center bg-white rounded-lg border border-green-200 px-2 py-3",children:[e.jsx("span",{className:"text-lg font-bold text-green-700",children:t.philip.shots40}),e.jsx("span",{className:"text-xs text-green-600 ml-1",children:"ğŸ¥ƒ40%"})]})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-100 to-green-50 border border-green-300 rounded-lg",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-3xl font-bold text-green-700 mb-2",children:[h(n.philip,t.philip,{weight:o.real.weight,gender:"male"},a),"â€°"]}),e.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Blutalkoholkonzentration (BAK)"}),(n.philip>0||t.philip.shots20>0||t.philip.shots40>0)&&e.jsxs("div",{className:"text-xs text-green-500 mt-1",children:[n.philip>0&&`${n.philip} Ã— 0,5L Bier`,n.philip>0&&(t.philip.shots20>0||t.philip.shots40>0)&&" + ",t.philip.shots20>0&&`${t.philip.shots20} Ã— 2cl (20%)`,t.philip.shots20>0&&t.philip.shots40>0&&" + ",t.philip.shots40>0&&`${t.philip.shots40} Ã— 2cl (40%)`]})]}),e.jsx(T,{bac:h(n.philip,t.philip,{weight:o.real.weight,gender:"male"},a),name:"Philip"}),a&&(n.philip>0||t.philip.shots20>0||t.philip.shots40>0)&&e.jsx("div",{className:"mt-3 text-center text-sm text-green-600",children:(()=>{const s=B(n.philip,t.philip,{weight:o.real.weight,gender:"male"},a);return s&&s>new Date?`ğŸ• Wieder nÃ¼chtern: ${s.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}`:parseFloat(h(n.philip,t.philip,{weight:o.real.weight,gender:"male"},a))===0?"âœ… Bereits nÃ¼chtern":null})()})]})]})]}),e.jsxs("div",{className:"modern-card mt-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"ğŸ“Š Zusammenfassung"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-text-primary",children:n.alexander+n.philip}),e.jsx("div",{className:"text-sm text-text-muted",children:"Biere gesamt"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-text-primary",children:[((n.alexander+n.philip)*.5).toFixed(1),"L"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Biervolumen"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xl font-bold text-text-primary",children:t.alexander.shots20+t.alexander.shots40+t.philip.shots20+t.philip.shots40}),e.jsx("div",{className:"text-sm text-text-muted",children:"Shots gesamt"})]}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-text-primary",children:[(t.alexander.shots20+t.alexander.shots40+t.philip.shots20+t.philip.shots40)*2,"cl"]}),e.jsx("div",{className:"text-sm text-text-muted",children:"Shot-Volumen"})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"â„¹ï¸ Hinweise"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"â€¢ BAK-Berechnung basiert auf der Widmark-Formel"}),e.jsx("li",{children:"â€¢ Annahme: 0,5L Bier mit 5% Alkoholgehalt"}),e.jsx("li",{children:"â€¢ Shots: 2cl mit 20% oder 40% Alkoholgehalt"}),e.jsx("li",{children:"â€¢ Abbau: 0,15â€° pro Stunde"}),e.jsx("li",{children:"â€¢ Farbkodierung: GrÃ¼n (0-0,3â€°), Gelb (0,3-0,5â€°), Orange (0,5-1,0â€°), Rot (>1,0â€°)"}),e.jsx("li",{children:"â€¢ Manager-Daten kÃ¶nnen unter Admin â†’ Team-Verwaltung angepasst werden"})]})]})]})}export{O as default};
