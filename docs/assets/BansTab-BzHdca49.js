import{r as b,u as m,j as e,L as N}from"./main-Cn2belC8.js";import{B as x,g as y,a as k}from"./banTypes-DuNOJEIt.js";function T({onNavigate:S,showHints:h=!1}){const[n,p]=b.useState("active"),{data:s,loading:u}=m("bans","*"),{data:l,loading:g}=m("players","*"),v=u||g,j=t=>{if(!l)return"Unbekannt";const r=l.find(a=>a.id===t);return(r==null?void 0:r.name)||"Unbekannt"},f=t=>{if(!l)return"Unbekannt";const r=l.find(a=>a.id===t);return(r==null?void 0:r.team)||"Unbekannt"},o=(s||[]).filter(r=>n==="all"?!0:n==="active"?r.totalgames-r.matchesserved>0:n==="completed"?r.totalgames-r.matchesserved===0:r.type===n),d=(s==null?void 0:s.filter(t=>t.totalgames-t.matchesserved>0))||[],c=(s==null?void 0:s.filter(t=>t.totalgames-t.matchesserved===0))||[];return v?e.jsx(N,{message:"Lade Sperren..."}):e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-4",children:"Sperren-Ãœbersicht"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[{key:"all",label:"Alle",count:(s==null?void 0:s.length)||0},{key:"active",label:"Aktiv",count:d.length},{key:"completed",label:"Beendet",count:c.length},...x.map(t=>({key:t.value,label:t.label,count:(s==null?void 0:s.filter(r=>r.type===t.value).length)||0}))].map(t=>e.jsxs("button",{onClick:()=>p(t.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${n===t.key?"bg-primary-green text-white":"bg-bg-secondary text-text-muted hover:bg-bg-tertiary border border-border-light"}`,children:[t.label," (",t.count,")"]},t.key))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-red group-hover:scale-110 transition-transform",children:d.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Aktive Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-primary-green group-hover:scale-110 transition-transform",children:c.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Beendete Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-orange group-hover:scale-110 transition-transform",children:(s==null?void 0:s.length)||0}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Gesamt Sperren"})]}),e.jsxs("div",{className:"modern-card text-center hover:bg-bg-secondary transition-colors cursor-pointer group",children:[e.jsx("div",{className:"text-2xl font-bold text-accent-blue group-hover:scale-110 transition-transform",children:x.length}),e.jsx("div",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:"Sperr-Arten"})]})]}),o.length>0?e.jsx("div",{className:"space-y-4",children:o.map(t=>{const r=(t.totalgames||0)-(t.matchesserved||0),a=(t.totalgames||0)>0?(t.matchesserved||0)/(t.totalgames||0)*100:0,i=r>0;return e.jsx("div",{className:"modern-card hover:bg-bg-secondary transition-colors cursor-pointer group",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform",children:y(t.type)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-text-primary group-hover:text-primary-green transition-colors",children:j(t.player_id)}),e.jsxs("span",{className:"text-sm text-text-muted group-hover:text-text-primary transition-colors",children:["(",f(t.player_id),")"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border transition-all group-hover:scale-105 ${k(t.type)}`,children:t.type}),i?e.jsxs("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-red-100 text-red-800 border border-red-200 transition-all group-hover:scale-105",children:["ðŸ”´ Aktiv - ",r," Spiel",r!==1?"e":""," verbleibend"]}):e.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 border border-green-200 transition-all group-hover:scale-105",children:"âœ… Beendet"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-xs text-text-muted mb-1",children:[e.jsxs("span",{children:["Fortschritt: ",t.matchesserved||0," / ",t.totalgames||0," Spiele"]}),e.jsxs("span",{children:[Math.round(a),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(a,100)}%`}})})]}),t.reason&&e.jsxs("p",{className:"text-sm text-text-muted",children:["Grund: ",t.reason]})]})]}),i&&e.jsxs("div",{className:"text-center ml-4",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r}),e.jsx("div",{className:"text-xs text-red-600 uppercase font-medium",children:"Verbleibend"})]})]})},t.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-4",children:"ðŸš«"}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:n==="all"?"Keine Sperren gefunden":`Keine ${n==="active"?"aktiven":n==="completed"?"beendeten":n} Sperren`}),e.jsx("p",{className:"text-text-muted",children:n==="all"?"Es wurden noch keine Sperren erstellt.":"Versuche einen anderen Filter oder erstelle neue Sperren."})]}),h&&e.jsx("div",{className:"mt-6 modern-card bg-red-50 border-red-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-red-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-red-700 text-sm",children:"Um neue Sperren hinzuzufÃ¼gen oder zu verwalten, nutzen Sie den Verwaltungsbereich."})]})]})})]})}export{T as default};
