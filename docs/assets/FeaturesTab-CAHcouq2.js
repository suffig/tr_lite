var F=Object.defineProperty;var M=(d,a,s)=>a in d?F(d,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):d[a]=s;var N=(d,a,s)=>M(d,typeof a!="symbol"?a+"":a,s);import{b as P,c as R,d as E,r as u,j as e,n as y}from"./main-qNaBo6GG.js";const b={};class A{constructor(){N(this,"mockPlayerDatabase",[{id:1,name:"Lionel Messi",club:"Paris Saint-Germain",nationality:"Argentina",position:"RW",overallRating:93,pace:85,shooting:92,passing:91,dribbling:95,defending:34,physical:65,value:5e7,wage:32e4,age:36,height:170,weight:67,foot:"Left",workRates:"Medium/Low",skills:4,weakFoot:4,traits:["Finesse Shot","Playmaker","Technical Dribbler"],specialties:["FK","Dribbling","Finishing"]},{id:2,name:"Erling Haaland",club:"Manchester City",nationality:"Norway",position:"ST",overallRating:91,pace:89,shooting:91,passing:65,dribbling:80,defending:45,physical:88,value:18e7,wage:375e3,age:23,height:194,weight:88,foot:"Left",workRates:"High/Medium",skills:3,weakFoot:3,traits:["Power Header","Finesse Shot"],specialties:["Acrobat","Clinical Finisher"]},{id:3,name:"Kylian Mbappé",club:"Paris Saint-Germain",nationality:"France",position:"ST",overallRating:91,pace:97,shooting:89,passing:80,dribbling:92,defending:36,physical:77,value:18e7,wage:35e4,age:25,height:178,weight:73,foot:"Right",workRates:"High/Low",skills:4,weakFoot:4,traits:["Speed Dribbler","Finesse Shot"],specialties:["Speedster","Distance Shooter"]}]);this.baseUrl="https://api.ea.com/fifa",this.apiKey=(b==null?void 0:b.VITE_FIFA_API_KEY)||"mock-api-key",this.cache=new Map,this.cacheExpiry=60*60*1e3}async searchPlayers(a,s={}){try{const i=`search_${a}_${JSON.stringify(s)}`,l=this.getFromCache(i);if(l)return l;await this.delay(500);let r=this.mockPlayerDatabase.filter(c=>c.name.toLowerCase().includes(a.toLowerCase())||c.club.toLowerCase().includes(a.toLowerCase())||c.nationality.toLowerCase().includes(a.toLowerCase()));s.position&&(r=r.filter(c=>c.position===s.position)),s.club&&(r=r.filter(c=>c.club.toLowerCase().includes(s.club.toLowerCase()))),s.minRating&&(r=r.filter(c=>c.overallRating>=s.minRating)),s.maxAge&&(r=r.filter(c=>c.age<=s.maxAge)),r.sort((c,m)=>m.overallRating-c.overallRating),s.limit&&(r=r.slice(0,s.limit));const o={players:r,total:r.length,query:a,options:s};return this.setCache(i,o),o}catch(i){throw console.error("Error searching players:",i),new Error("Failed to search players")}}async getPlayerById(a){try{const s=`player_${a}`,i=this.getFromCache(s);if(i)return i;await this.delay(300);const l=this.mockPlayerDatabase.find(r=>r.id===a);if(!l)throw new Error("Player not found");const n={...l,stats:{appearances:Math.floor(Math.random()*30)+10,goals:Math.floor(Math.random()*20)+5,assists:Math.floor(Math.random()*15)+3,yellowCards:Math.floor(Math.random()*8),redCards:Math.floor(Math.random()*2),minutesPlayed:Math.floor(Math.random()*2e3)+800},form:this.generateFormData(),marketValue:this.calculateMarketValue(l),potentialRating:Math.min(99,l.overallRating+Math.floor(Math.random()*5))};return this.setCache(s,n),n}catch(s){throw console.error("Error getting player:",s),s}}async getTeamPlayers(a){try{const s=`team_${a}`,i=this.getFromCache(s);if(i)return i;await this.delay(700);const l=this.mockPlayerDatabase.filter(r=>r.club.toLowerCase().includes(a.toLowerCase())),n={team:a,players:l,totalValue:l.reduce((r,o)=>r+o.value,0),averageRating:l.reduce((r,o)=>r+o.overallRating,0)/l.length||0,averageAge:l.reduce((r,o)=>r+o.age,0)/l.length||0};return this.setCache(s,n),n}catch(s){throw console.error("Error getting team players:",s),new Error("Failed to get team players")}}async getPlayerComparison(a){try{const s=await Promise.all(a.map(i=>this.getPlayerById(i)));return{players:s,comparison:this.generateComparison(s)}}catch(s){throw console.error("Error comparing players:",s),new Error("Failed to compare players")}}async getTopPlayers(a={}){try{const{position:s,league:i,limit:l=10}=a;let n=[...this.mockPlayerDatabase];return s&&(n=n.filter(r=>r.position===s)),n.sort((r,o)=>o.overallRating-r.overallRating),{players:n.slice(0,l),criteria:a}}catch(s){throw console.error("Error getting top players:",s),new Error("Failed to get top players")}}generateFormData(){return Array.from({length:10},()=>({rating:Math.floor(Math.random()*40)+60,date:new Date(Date.now()-Math.random()*30*24*60*60*1e3)}))}calculateMarketValue(a){const s=Math.max(.3,1-(a.age-18)*.02),i=a.overallRating/100;return Math.floor(a.value*s*i)}generateComparison(a){const s=["pace","shooting","passing","dribbling","defending","physical"],i={};return s.forEach(l=>{i[l]={values:a.map(n=>n[l]),leader:a.reduce((n,r)=>r[l]>n[l]?r:n)}}),i}getFromCache(a){const s=this.cache.get(a);return s&&Date.now()-s.timestamp<this.cacheExpiry?s.data:null}setCache(a,s){this.cache.set(a,{data:s,timestamp:Date.now()})}clearCache(){this.cache.clear()}delay(a){return new Promise(s=>setTimeout(s,a))}async testConnection(){try{return await this.delay(1e3),{connected:!0,message:"Successfully connected to FIFA API (Mock)",version:"1.0.0"}}catch(a){return{connected:!1,message:"Failed to connect to FIFA API",error:a.message}}}}const L=new A,D=({onShowSlotMachine:d,onShowThemeSettings:a})=>{const{theme:s,selectedTeam:i,changeTeamTheme:l,isDarkMode:n,toggleDarkMode:r}=P(),{liveMatches:o,isConnected:c}=R(),{reports:m,generateWeeklyReport:w,generateMonthlyReport:k}=E(),[x,S]=u.useState(""),[p,C]=u.useState([]),[j,f]=u.useState(!1),v=async()=>{if(x.trim()){f(!0);try{const t=await L.searchPlayers(x,{limit:5});C(t.players),y.success(`${t.total} Spieler gefunden`)}catch(t){y.error("Fehler bei der Spielersuche"),console.error("Player search error:",t)}finally{f(!1)}}},g=async t=>{try{t==="weekly"?await w():await k()}catch{y.error("Fehler beim Erstellen des Berichts")}};return e.jsxs("div",{className:"p-6 space-y-8",style:{backgroundColor:s.background,color:s.text},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2 gradient-text",children:"Erweiterte Features"}),e.jsx("p",{className:"text-lg",style:{color:s.textSecondary},children:"Neue Funktionen und Verbesserungen des FIFA Trackers"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("button",{onClick:a,className:"theme-card p-4 rounded-xl text-center hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🎨"}),e.jsx("div",{className:"font-semibold",children:"Themes"})]}),e.jsxs("button",{onClick:d,className:"theme-card p-4 rounded-xl text-center hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🎰"}),e.jsx("div",{className:"font-semibold",children:"Slot Machine"})]}),e.jsxs("button",{onClick:()=>g("weekly"),className:"theme-card p-4 rounded-xl text-center hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-2xl mb-2",children:"📊"}),e.jsx("div",{className:"font-semibold",children:"Wochenbericht"})]}),e.jsxs("button",{onClick:r,className:"theme-card p-4 rounded-xl text-center hover:scale-105 transition-transform",children:[e.jsx("div",{className:"text-2xl mb-2",children:n?"☀️":"🌙"}),e.jsx("div",{className:"font-semibold",children:n?"Hell":"Dunkel"})]})]}),e.jsxs("div",{className:"report-card p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Live Scores"}),e.jsxs("div",{className:`flex items-center space-x-2 ${c?"text-green-500":"text-red-500"}`,children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${c?"bg-green-500 live-indicator":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-medium",children:c?"Verbunden":"Getrennt"})]})]}),o.length>0?e.jsx("div",{className:"space-y-3",children:o.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold",children:[t.homeTeam," vs ",t.awayTeam]}),e.jsx("div",{className:"text-sm",style:{color:s.textSecondary},children:t.status==="LIVE"?`${t.minute}'`:t.status})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold",children:[t.homeScore," - ",t.awayScore]}),t.status==="LIVE"&&e.jsx("div",{className:"text-xs text-red-500 font-medium",children:"LIVE"})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8",style:{color:s.textSecondary},children:[e.jsx("div",{className:"text-4xl mb-2",children:"⚽"}),e.jsx("p",{children:"Keine Live-Spiele verfügbar"})]})]}),e.jsxs("div",{className:"report-card p-6 rounded-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Team Themes"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(s.teamThemes||{}).map(([t,h])=>e.jsxs("button",{onClick:()=>l(t),className:`p-3 rounded-lg border-2 transition-all ${i===t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:h.primary}}),e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:h.secondary}})]}),e.jsx("span",{className:"text-sm font-medium",children:h.name})]},t))})]}),e.jsxs("div",{className:"report-card p-6 rounded-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"FIFA Spieler Suche"}),e.jsxs("div",{className:"flex space-x-3 mb-4",children:[e.jsx("input",{type:"text",value:x,onChange:t=>S(t.target.value),placeholder:"Spieler suchen...",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700",style:{color:s.text},onKeyPress:t=>t.key==="Enter"&&v()}),e.jsx("button",{onClick:v,disabled:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:j?"🔍":"Suchen"})]}),p.length>0&&e.jsx("div",{className:"space-y-2",children:p.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t.name}),e.jsxs("div",{className:"text-sm",style:{color:s.textSecondary},children:[t.club," • ",t.position]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",style:{color:s.primary},children:t.overallRating}),e.jsx("div",{className:"text-xs",style:{color:s.textSecondary},children:"Overall"})]})]},t.id))})]}),e.jsxs("div",{className:"report-card p-6 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Berichte"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>g("weekly"),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Woche"}),e.jsx("button",{onClick:()=>g("monthly"),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors",children:"Monat"})]})]}),m.length>0?e.jsx("div",{className:"space-y-3",children:m.slice(0,3).map(t=>{var h;return e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t.title}),e.jsx("div",{className:"text-sm",style:{color:s.textSecondary},children:new Date(t.generatedAt).toLocaleDateString("de-DE")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",style:{color:s.primary},children:t.type==="weekly"?"Woche":"Monat"}),e.jsxs("div",{className:"text-xs",style:{color:s.textSecondary},children:[((h=t.insights)==null?void 0:h.length)||0," Insights"]})]})]})},t.id)})}):e.jsxs("div",{className:"text-center py-4",style:{color:s.textSecondary},children:[e.jsx("div",{className:"text-3xl mb-2",children:"📊"}),e.jsx("p",{children:"Noch keine Berichte erstellt"})]})]}),e.jsxs("div",{className:"report-card p-6 rounded-xl",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Neue Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-green-600",children:"✅ Implementiert"}),e.jsxs("ul",{className:"text-sm space-y-1",style:{color:s.textSecondary},children:[e.jsx("li",{children:"• Live Score Updates mit Benachrichtigungen"}),e.jsx("li",{children:"• Team-spezifische Themes (AEK, Real, etc.)"}),e.jsx("li",{children:"• Dark/Light Mode mit Auto-Switch"}),e.jsx("li",{children:"• Custom Color Schemes"}),e.jsx("li",{children:"• Animierte Hintergründe"}),e.jsx("li",{children:"• FIFA API Integration (Mock)"}),e.jsx("li",{children:"• Virtual Slot Machine"}),e.jsx("li",{children:"• Automatische Berichte"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-blue-600",children:"🎯 Tastenkürzel"}),e.jsxs("ul",{className:"text-sm space-y-1",style:{color:s.textSecondary},children:[e.jsxs("li",{children:["• ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"Ctrl+T"})," Theme-Einstellungen"]}),e.jsxs("li",{children:["• ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"Ctrl+S"})," Slot Machine"]}),e.jsxs("li",{children:["• ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs",children:"Ctrl+K"})," Globale Suche (Admin)"]})]})]})]})]})]})};function K({onShowSlotMachine:d,onShowThemeSettings:a,accountBalance:s}){return e.jsx("div",{className:"min-h-screen pb-20",children:e.jsx(D,{onShowSlotMachine:d,onShowThemeSettings:a,accountBalance:s})})}export{K as default};
