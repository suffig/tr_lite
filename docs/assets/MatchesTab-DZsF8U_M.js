import{r as d,j as e,u as J,L as de}from"./main-Cn2belC8.js";function oe({matches:a,currentMatch:n}){const[i,y]=d.useState(null),[c,w]=d.useState(!0);return d.useEffect(()=>{if(a&&a.length>0){const f=me(a);y(f),w(!1)}},[a,n]),c||!i?e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"})]}):e.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-lg p-4 border border-indigo-200",children:[e.jsx("h4",{className:"font-bold text-indigo-800 mb-3 flex items-center gap-2",children:"🔮 Match Analytics & Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-indigo-600",children:[i.aekWinRate,"%"]}),e.jsx("div",{className:"text-xs text-indigo-700",children:"AEK Siegquote"})]})}),e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-indigo-600",children:[i.realWinRate,"%"]}),e.jsx("div",{className:"text-xs text-indigo-700",children:"Real Siegquote"})]})}),e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-indigo-600",children:i.avgGoalsPerMatch}),e.jsx("div",{className:"text-xs text-indigo-700",children:"⌀ Tore/Spiel"})]})}),e.jsx("div",{className:"bg-white/80 rounded-lg p-3 border border-indigo-100",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-indigo-600",children:i.currentStreak}),e.jsxs("div",{className:"text-xs text-indigo-700",children:[i.streakTeam," Serie"]})]})})]}),i.prediction&&e.jsx("div",{className:"mt-4 p-3 bg-gradient-to-r from-blue-100 to-purple-100 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-blue-800",children:"🔮 Nächstes Spiel Prognose"}),e.jsxs("div",{className:"text-sm text-blue-700",children:[i.prediction.team," mit ",i.prediction.confidence,"% Wahrscheinlichkeit"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-blue-600",children:"Erwarteter Score"}),e.jsx("div",{className:"font-bold text-blue-800",children:i.prediction.expectedScore})]})]})})]})}function ce({onStartMatch:a,onEndMatch:n}){const[i,y]=d.useState(!1),[c,w]=d.useState({startTime:null,goals:{aek:0,real:0},events:[]}),f=()=>{y(!0),w({startTime:new Date,goals:{aek:0,real:0},events:[]}),a&&a()},A=()=>{y(!1),n&&n(c)},T=b=>{w(g=>({...g,goals:{...g.goals,[b]:g.goals[b]+1},events:[...g.events,{type:"goal",team:b,time:new Date,minute:Math.floor((new Date-g.startTime)/6e4)}]}))};return i?e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:e.jsx("span",{className:"animate-pulse text-red-600 text-sm font-bold",children:"● LIVE"})}),e.jsx("h4",{className:"font-bold text-red-800 mb-3",children:"🔴 Live Match"}),e.jsx("div",{className:"bg-white/80 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:"AEK"}),e.jsx("div",{className:"text-3xl font-black text-blue-800",children:c.goals.aek}),e.jsx("button",{onClick:()=>T("aek"),className:"mt-2 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"Tor +"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-gray-500 text-sm",children:[c.startTime&&Math.floor((new Date-c.startTime)/6e4),"'"]}),e.jsx("div",{className:"text-4xl font-bold text-gray-600",children:":"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-red-600",children:"Real"}),e.jsx("div",{className:"text-3xl font-black text-red-800",children:c.goals.real}),e.jsx("button",{onClick:()=>T("real"),className:"mt-2 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors",children:"Tor +"})]})]})}),c.events.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"font-semibold text-red-700 mb-2",children:"🏃‍♂️ Events"}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:c.events.slice(-5).reverse().map((b,g)=>e.jsxs("div",{className:"text-sm p-2 bg-white/60 rounded flex items-center gap-2",children:[e.jsxs("span",{className:"font-mono text-xs",children:[b.minute,"'"]}),e.jsx("span",{children:"⚽"}),e.jsxs("span",{className:`font-semibold ${b.team==="aek"?"text-blue-600":"text-red-600"}`,children:[b.team.toUpperCase()," Tor!"]})]},g))})]}),e.jsx("button",{onClick:A,className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Match beenden"})]}):e.jsx("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-green-800 flex items-center gap-2",children:"🔴 Live Match Tracking"}),e.jsx("p",{className:"text-sm text-green-700",children:"Verfolge Spiele in Echtzeit"})]}),e.jsxs("button",{onClick:f,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("span",{className:"animate-pulse",children:"🔴"}),"Live starten"]})]})})}function xe({match1:a,match2:n}){return!a||!n?e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-center text-gray-500",children:"Wähle zwei Spiele zum Vergleichen"})}):e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4 border border-yellow-200",children:[e.jsx("h4",{className:"font-bold text-yellow-800 mb-3 flex items-center gap-2",children:"⚖️ Spielvergleich"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/80 rounded-lg p-3 border border-yellow-100",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"font-semibold text-yellow-700",children:"Spiel 1"}),e.jsx("div",{className:"text-sm text-yellow-600",children:new Date(a.date).toLocaleDateString()})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-lg font-bold",children:[a.teama," ",a.goalsa||0," : ",a.goalsb||0," ",a.teamb]})})]}),e.jsxs("div",{className:"bg-white/80 rounded-lg p-3 border border-yellow-100",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"font-semibold text-yellow-700",children:"Spiel 2"}),e.jsx("div",{className:"text-sm text-yellow-600",children:new Date(n.date).toLocaleDateString()})]}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-lg font-bold",children:[n.teama," ",n.goalsa||0," : ",n.goalsb||0," ",n.teamb]})})]})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-700",children:"Tore"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:(a.goalsa||0)+(a.goalsb||0)}),e.jsx("span",{children:"vs"}),e.jsx("span",{children:(n.goalsa||0)+(n.goalsb||0)})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-700",children:"Karten"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:(a.yellowa||0)+(a.reda||0)+(a.yellowb||0)+(a.redb||0)}),e.jsx("span",{children:"vs"}),e.jsx("span",{children:(n.yellowa||0)+(n.reda||0)+(n.yellowb||0)+(n.redb||0)})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-yellow-700",children:"Preisgeld"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["€",(a.prizeaek||0)+(a.prizereal||0)]}),e.jsx("span",{children:"vs"}),e.jsxs("span",{children:["€",(n.prizeaek||0)+(n.prizereal||0)]})]})]})]})]})}function me(a,n){if(!a||a.length===0)return null;const i=a.length;let y=0,c=0,w=0,f=0,A="";a.forEach((D,k)=>{const u=D.goalsa||0,p=D.goalsb||0;if(w+=u+p,u>p?y++:p>u&&c++,k===a.length-1){let v=u>p?"AEK":p>u?"Real":null;if(v){A=v,f=1;for(let j=a.length-2;j>=0;j--){const E=a[j],I=E.goalsa||0,$=E.goalsb||0;if((I>$?"AEK":$>I?"Real":null)===v)f++;else break}}}});const T=Math.round(y/i*100),b=Math.round(c/i*100),g=(w/i).toFixed(1);let R=null;if(a.length>=3){const D=a.slice(-3);let k=0,u=0;D.forEach(v=>{const j=v.goalsa||0,E=v.goalsb||0;j>E?k+=3:E>j?u+=3:(k+=1,u+=1)});const p=k+u;if(p>0){const v=Math.round(k/p*100),j=Math.round(u/p*100);R={team:v>j?"AEK":"Real",confidence:Math.max(v,j),expectedScore:`${Math.round(g/2)}:${Math.round(g/2)}`}}}return{aekWinRate:T,realWinRate:b,avgGoalsPerMatch:g,currentStreak:f,streakTeam:A,prediction:R,totalMatches:i}}function ue({onNavigate:a,showHints:n=!1}){const[i,y]=d.useState(new Set),[c,w]=d.useState(!1),[f,A]=d.useState("4weeks"),[T,b]=d.useState(""),[g,R]=d.useState("all"),[D,k]=d.useState("all"),[u,p]=d.useState(null),[v,j]=d.useState(new Set),[E,I]=d.useState(!1),[$,B]=d.useState(!1),[_,Z]=d.useState(!1),[H,ge]=d.useState([]),[C,F]=d.useState(!1),G=d.useRef(new Map),{data:U,loading:Q,error:X,refetch:Y}=J("matches","*",{order:{column:"date",ascending:!1}}),{data:q,loading:ee}=J("players","*"),se=()=>{const t=new Date;switch(f){case"1week":t.setDate(t.getDate()-7);break;case"4weeks":t.setDate(t.getDate()-28);break;case"3months":t.setMonth(t.getMonth()-3);break;default:return null}return t.toISOString().split("T")[0]},L=(()=>{if(!U)return[];let t=U;if(T)t=t.filter(l=>l.date===T);else if(f!=="all"){const l=se();l&&(t=t.filter(r=>r.date>=l))}return g!=="all"&&(t=t.filter(l=>{const r=l.goalsa||0,s=l.goalsb||0;switch(g){case"aek-wins":return r>s;case"real-wins":return s>r;default:return!0}})),D!=="all"&&(t=t.filter(l=>{const r=(l.goalsa||0)+(l.goalsb||0);switch(D){case"high-scoring":return r>10;case"low-scoring":return r<5;default:return!0}})),t})(),te=Q||ee,W=(t,l)=>{if(!q)return{name:l||"Unbekannt",value:0};const r=q.find(s=>s.id===t||s.name===l);return{name:(r==null?void 0:r.name)||l||"Unbekannt",value:(r==null?void 0:r.value)||0,team:(r==null?void 0:r.team)||"Unbekannt"}},le=t=>{const l=new Set(i),r=l.has(t);j(K=>new Set(K).add(t)),G.current.has(t)&&clearTimeout(G.current.get(t)),r?l.delete(t):l.add(t),y(l);const s=setTimeout(()=>{j(K=>{const h=new Set(K);return h.delete(t),h}),G.current.delete(t)},300);G.current.set(t,s)};d.useEffect(()=>()=>{G.current.forEach(t=>clearTimeout(t))},[]);const re=()=>{if(!L)return[];const t={};return L.forEach(l=>{const r=l.date;t[r]||(t[r]=[]),t[r].push(l)}),Object.keys(t).sort((l,r)=>new Date(r)-new Date(l)).map(l=>({date:l,matches:t[l].sort((r,s)=>s.id-r.id)}))},ae=t=>{const l=[{container:"border-blue-400 bg-blue-50 dark:bg-blue-900",header:"text-blue-800 dark:text-blue-100",accent:"blue-500"},{container:"border-green-500 bg-green-50 dark:bg-green-900",header:"text-green-800 dark:text-green-100",accent:"green-500"},{container:"border-purple-500 bg-purple-50 dark:bg-purple-900",header:"text-purple-800 dark:text-purple-100",accent:"purple-500"},{container:"border-red-500 bg-red-50 dark:bg-red-900",header:"text-red-800 dark:text-red-100",accent:"red-500"},{container:"border-yellow-500 bg-yellow-50 dark:bg-yellow-900",header:"text-yellow-800 dark:text-yellow-100",accent:"yellow-500"}];return l[t%l.length]};if(te)return e.jsx(de,{message:"Lade Spiele..."});if(X)return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-accent-red mb-4",children:e.jsx("i",{className:"fas fa-exclamation-triangle text-2xl"})}),e.jsx("p",{className:"text-text-muted mb-4",children:"Fehler beim Laden der Spiele"}),e.jsx("button",{onClick:Y,className:"btn-primary",children:"Erneut versuchen"})]});const P=re();return e.jsxs("div",{className:"p-4 pb-24 mobile-safe-bottom",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex justify-between items-center mb-2",children:e.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Spiele-Übersicht"})}),e.jsxs("p",{className:"text-text-muted",children:[(L==null?void 0:L.length)||0," Spiele gefunden, gruppiert nach Datum"]})]}),e.jsxs("div",{className:"mb-6 modern-card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"🔍 Filter & Suche"}),e.jsx("p",{className:"text-sm text-text-muted",children:"Finde schnell die Spiele, die dich interessieren"})]}),e.jsxs("button",{onClick:()=>w(!c),className:"flex items-center gap-2 px-3 py-2 text-sm bg-bg-secondary hover:bg-bg-tertiary border border-border-light rounded-lg transition-all",children:[e.jsx("span",{children:c?"Einklappen":"Erweitern"}),e.jsx("span",{className:`text-lg transition-transform duration-200 ${c?"rotate-90":""}`,children:"▶"})]})]}),e.jsxs("div",{className:`overflow-hidden transition-all duration-300 ${c?"max-h-96":"max-h-0"}`,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"📅 Zeitraum"}),e.jsxs("select",{value:f,onChange:t=>A(t.target.value),className:"w-full px-3 py-2 bg-bg-secondary border border-border-light rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-blue transition-colors",children:[e.jsx("option",{value:"1week",children:"Letzte Woche"}),e.jsx("option",{value:"4weeks",children:"Letzte 4 Wochen"}),e.jsx("option",{value:"3months",children:"Letzte 3 Monate"}),e.jsx("option",{value:"all",children:"Alle Spiele"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"🏆 Ergebnis"}),e.jsxs("select",{value:g,onChange:t=>R(t.target.value),className:"w-full px-3 py-2 bg-bg-secondary border border-border-light rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-blue transition-colors",children:[e.jsx("option",{value:"all",children:"Alle Ergebnisse"}),e.jsx("option",{value:"aek-wins",children:"🔵 AEK Siege"}),e.jsx("option",{value:"real-wins",children:"🔴 Real Siege"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"⚽ Tore"}),e.jsxs("select",{value:D,onChange:t=>k(t.target.value),className:"w-full px-3 py-2 bg-bg-secondary border border-border-light rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-blue transition-colors",children:[e.jsx("option",{value:"all",children:"Alle Spiele"}),e.jsx("option",{value:"high-scoring",children:"🔥 Torreich (>10 Tore)"}),e.jsx("option",{value:"low-scoring",children:"🛡️ Torarm (<5 Tore)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"📆 Datum"}),e.jsx("input",{type:"date",value:T,onChange:t=>b(t.target.value),className:"w-full px-3 py-2 bg-bg-secondary border border-border-light rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-blue transition-colors"})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center justify-between",children:[e.jsx("div",{className:"text-sm text-text-muted",children:(()=>{const t=L.length,l=(U==null?void 0:U.length)||0;return t===l?`Zeige alle ${t} Spiele`:`${t} von ${l} Spielen gefiltert`})()}),e.jsx("button",{onClick:()=>{A("4weeks"),b(""),R("all"),k("all")},className:"px-4 py-2 text-sm bg-accent-orange text-white rounded-lg hover:bg-orange-600 transition-colors",children:"🔄 Filter zurücksetzen"})]})]})]}),e.jsxs("div",{className:"mb-6 space-y-4",children:[E&&e.jsx("div",{className:"animate-fadeInScale",children:e.jsx(oe,{matches:L})}),$&&e.jsx("div",{className:"animate-fadeInScale",children:e.jsx(ce,{onStartMatch:()=>console.log("Live match started"),onEndMatch:t=>console.log("Live match ended:",t)})}),_&&e.jsx("div",{className:"animate-fadeInScale",children:e.jsx(xe,{match1:H[0],match2:H[1]})})]}),P&&P.length>0?e.jsx("div",{className:"space-y-4",children:P.map((t,l)=>{const r=ae(l);return e.jsxs("div",{className:`border-2 ${r.container} rounded-lg shadow-lg`,children:[e.jsx("div",{className:"p-4 border-b border-opacity-20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 bg-${r.accent} rounded-full mr-3 flex-shrink-0`}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-bold ${r.header}`,children:new Date(t.date).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),e.jsxs("p",{className:`text-sm opacity-75 ${r.header}`,children:[t.matches.length," Spiel",t.matches.length!==1?"e":""]})]})]}),e.jsx("div",{className:`text-xs bg-${r.accent} text-white px-3 py-1 rounded-full font-semibold`,children:"Spieltag"})]})}),e.jsx("div",{className:"p-4 space-y-3",children:t.matches.map((s,K)=>{const h=i.has(s.id),x=v.has(s.id),ie=u===s.id,S=s.goalsa||0,M=s.goalsb||0,N=S>M?"aek":M>S?"real":"draw";return e.jsxs("div",{className:`
                          relative overflow-hidden rounded-xl border transition-all duration-300 ease-out transform
                          ${h?"shadow-2xl scale-[1.02]":"shadow-lg hover:shadow-xl hover:scale-[1.01]"}
                          ${ie?"ring-2 ring-blue-400/50":""}
                          ${N==="aek"?"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200":N==="real"?"bg-gradient-to-r from-red-50 to-red-100 border-red-200":"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200"}
                          ${x?"transition-all duration-300":""}
                        `,style:{animationDelay:`${K*100}ms`,animation:"slideInUp 0.5s ease-out forwards"},onMouseEnter:()=>p(s.id),onMouseLeave:()=>p(null),children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:`w-full h-full bg-gradient-to-br ${N==="aek"?"from-blue-400 to-blue-600":N==="real"?"from-red-400 to-red-600":"from-gray-400 to-gray-600"}`})}),e.jsxs("button",{onClick:()=>le(s.id),className:"relative w-full p-6 flex items-center justify-between cursor-pointer hover:bg-white/20 transition-all duration-200 rounded-xl group",children:[e.jsx("div",{className:"flex items-center space-x-6",children:e.jsxs("div",{className:"text-center relative",children:[N!=="draw"&&e.jsx("div",{className:`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${N==="aek"?"bg-blue-500":"bg-red-500"}`,children:"👑"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-lg font-bold ${N==="aek"?"text-blue-700":"text-gray-700"}`,children:s.teama||"AEK"}),e.jsx("div",{className:"text-xs text-gray-500",children:S>M?"🏆 Sieger":S===M?"🤝 Unentschieden":"😔 Verlierer"})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",children:[e.jsxs("div",{className:"text-2xl font-black text-gray-800",children:[e.jsx("span",{className:N==="aek"?"text-blue-600":"text-gray-600",children:S}),e.jsx("span",{className:"mx-2 text-gray-400",children:":"}),e.jsx("span",{className:N==="real"?"text-red-600":"text-gray-600",children:M})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center mt-1",children:[S+M," Tore insgesamt"]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:`text-lg font-bold ${N==="real"?"text-red-700":"text-gray-700"}`,children:s.teamb||"Real"}),e.jsx("div",{className:"text-xs text-gray-500",children:M>S?"🏆 Sieger":S===M?"🤝 Unentschieden":"😔 Verlierer"})]})]}),s.status&&e.jsx("div",{className:"mt-3",children:e.jsx("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium ${s.status==="finished"?"bg-green-100 text-green-700 border border-green-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:s.status==="finished"?"✅ Beendet":"⏱️ Laufend"})})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Tore"}),e.jsx("div",{className:"text-sm font-semibold",children:S+M})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Karten"}),e.jsxs("div",{className:"text-sm font-semibold",children:["🟨",(s.yellowa||0)+(s.yellowb||0)," 🟥",(s.reda||0)+(s.redb||0)]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-700 transition-colors",children:h?"Weniger":"Details"}),e.jsx("div",{className:`
                                p-2 rounded-full bg-white/60 group-hover:bg-white/80 transition-all duration-300
                                ${h?"rotate-90 bg-blue-100":"hover:scale-110"}
                              `,children:e.jsx("span",{className:"text-lg block",children:"▶"})})]})]})]}),h&&e.jsx("div",{className:`
                            px-6 pb-6 border-t border-gray-200/50 bg-white/60 backdrop-blur-sm
                            transform transition-all duration-300 ease-out
                            ${x?"animate-slideDown":""}
                          `,children:e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border border-blue-100",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:"📊 Match Details & Statistiken"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsxs("span",{children:["Match #",s.id]}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(s.date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"space-y-3 bg-white/80 rounded-lg p-4 border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsxs("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-lg",children:["⚽ Torschützen",e.jsxs("span",{className:"text-xs bg-gray-200 px-2 py-1 rounded-full",children:[(s.goalsa||0)+(s.goalsb||0)," Tore"]})]}),e.jsxs("div",{className:"space-y-3",children:[(()=>{let m=[];try{typeof s.goalslista=="string"?m=JSON.parse(s.goalslista):Array.isArray(s.goalslista)&&(m=s.goalslista)}catch(o){console.warn("Failed to parse goalslista:",o),m=[]}return m&&m.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-blue-700",children:["🔵 AEK (",s.goalsa||0," Tore)"]}),m.map((o,V)=>{const O=typeof o=="object"&&o!==null,z=O?W(o.player_id,o.player):W(null,o);return e.jsx("div",{className:"group p-3 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg border-l-4 border-blue-400 hover:shadow-sm transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-blue-800 flex items-center gap-2",children:["⚽ ",z.name,O&&o.count>1&&e.jsxs("span",{className:"text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full font-bold",children:[o.count,"x Treffer"]})]}),e.jsxs("div",{className:"text-xs text-blue-600 flex items-center gap-3 mt-1",children:[e.jsxs("span",{children:["💰 ",z.value,"M €"]}),e.jsxs("span",{children:["👕 ",z.team]})]})]}),e.jsx("div",{className:"text-2xl text-blue-500 group-hover:scale-110 transition-transform",children:"⚽"})]})},V)})]}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"🔵 AEK: Keine Tore erzielt"})})})(),(()=>{let m=[];try{typeof s.goalslistb=="string"?m=JSON.parse(s.goalslistb):Array.isArray(s.goalslistb)&&(m=s.goalslistb)}catch(o){console.warn("Failed to parse goalslistb:",o),m=[]}return m&&m.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-red-700",children:["🔴 Real (",s.goalsb||0," Tore)"]}),m.map((o,V)=>{const O=typeof o=="object"&&o!==null,z=O?W(o.player_id,o.player):W(null,o);return e.jsx("div",{className:"group p-3 bg-gradient-to-r from-red-50 to-red-100 rounded-lg border-l-4 border-red-400 hover:shadow-sm transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold text-red-800 flex items-center gap-2",children:["⚽ ",z.name,O&&o.count>1&&e.jsxs("span",{className:"text-xs bg-red-200 text-red-800 px-2 py-1 rounded-full font-bold",children:[o.count,"x Treffer"]})]}),e.jsxs("div",{className:"text-xs text-red-600 flex items-center gap-3 mt-1",children:[e.jsxs("span",{children:["💰 ",z.value,"M €"]}),e.jsxs("span",{children:["👕 ",z.team]})]})]}),e.jsx("div",{className:"text-2xl text-red-500 group-hover:scale-110 transition-transform",children:"⚽"})]})},V)})]}):e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"🔴 Real: Keine Tore erzielt"})})})()]})]}),e.jsxs("div",{className:"space-y-3 bg-white/80 rounded-lg p-4 border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-lg",children:"⭐ Spieler des Spiels"}),e.jsx("div",{className:"space-y-2",children:s.manofthematch?e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-lg border-l-4 border-yellow-400 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-100/30 to-amber-100/30 animate-pulse"}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-yellow-800 text-lg flex items-center gap-2",children:["🏆 ",s.manofthematch,e.jsx("span",{className:"text-xs bg-yellow-200 text-yellow-800 px-2 py-1 rounded-full",children:"MVP"})]}),(()=>{const m=W(s.manofthematch_player_id,s.manofthematch);return e.jsxs("div",{className:"text-sm text-yellow-700 flex items-center gap-3 mt-2",children:[e.jsxs("span",{children:["👕 Team: ",m.team]}),e.jsxs("span",{children:["💰 Marktwert: ",m.value,"M €"]})]})})()]}),e.jsx("div",{className:"text-4xl animate-bounce",children:"⭐"})]})})]}):e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:e.jsx("p",{className:"text-sm text-gray-500 text-center",children:"⭐ Kein Spieler des Spiels ausgewählt"})})})]}),e.jsxs("div",{className:"space-y-3 bg-white/80 rounded-lg p-4 border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-lg",children:"🟨🟥 Karten & Disziplin"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-700 mb-2",children:"🔵 AEK"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"🟨 Gelbe Karten"}),e.jsx("span",{className:"font-bold text-yellow-600",children:s.yellowa||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"🟥 Rote Karten"}),e.jsx("span",{className:"font-bold text-red-600",children:s.reda||0})]})]})]}),e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-sm font-medium text-red-700 mb-2",children:"🔴 Real"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"🟨 Gelbe Karten"}),e.jsx("span",{className:"font-bold text-yellow-600",children:s.yellowb||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"🟥 Rote Karten"}),e.jsx("span",{className:"font-bold text-red-600",children:s.redb||0})]})]})]})]}),e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Gesamt: 🟨 ",(s.yellowa||0)+(s.yellowb||0)," | 🟥 ",(s.reda||0)+(s.redb||0)]})})]})]}),e.jsxs("div",{className:"space-y-3 bg-white/80 rounded-lg p-4 border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("h4",{className:"font-bold text-gray-800 flex items-center gap-2 text-lg",children:"💰 Preisgelder & Finanzen"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-700",children:"🔵 AEK"}),e.jsxs("span",{className:`font-bold text-lg ${(s.prizeaek||0)>0?"text-green-600":"text-gray-500"}`,children:["€",s.prizeaek||0]})]})}),e.jsx("div",{className:"p-3 bg-red-50 rounded-lg border border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-red-700",children:"🔴 Real"}),e.jsxs("span",{className:`font-bold text-lg ${(s.prizereal||0)>0?"text-green-600":"text-gray-500"}`,children:["€",s.prizereal||0]})]})})]}),e.jsx("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-green-700",children:"💰 Gesamtsumme"}),e.jsxs("span",{className:"font-bold text-lg text-green-600",children:["€",(s.prizeaek||0)+(s.prizereal||0)]})]})})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-bold text-purple-800 mb-3 flex items-center gap-2",children:"📈 Match Insights"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(s.goalsa||0)+(s.goalsb||0)}),e.jsx("div",{className:"text-purple-700",children:"Tore insgesamt"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:Math.abs((s.goalsa||0)-(s.goalsb||0))}),e.jsx("div",{className:"text-purple-700",children:"Tor-Differenz"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:(s.yellowa||0)+(s.yellowb||0)+(s.reda||0)+(s.redb||0)}),e.jsx("div",{className:"text-purple-700",children:"Karten total"})]})]})]})]})})]},s.id)})})]},t.date)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-text-muted mb-4",children:e.jsx("i",{className:"fas fa-futbol text-4xl opacity-50"})}),e.jsx("h3",{className:"text-lg font-medium text-text-primary mb-2",children:"Keine Spiele gefunden"}),e.jsx("p",{className:"text-text-muted",children:"Es wurden noch keine Spiele hinzugefügt."})]}),n&&e.jsx("div",{className:"mt-6 modern-card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"text-blue-600 mr-3",children:e.jsx("i",{className:"fas fa-info-circle"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-1",children:"Hinweis"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Klicken Sie auf ein Spiel, um detaillierte Statistiken wie Torschützen, Karten und Preisgelder anzuzeigen. Neue Spiele können im Verwaltungsbereich hinzugefügt werden."})]})]})}),e.jsx("div",{className:"fixed bottom-20 right-4 z-40",children:e.jsxs("div",{className:`transition-all duration-300 ${C?"space-y-2":"space-y-0"}`,children:[C&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{I(!E),F(!1)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-indigo-700 transition-all animate-slideInUp",style:{animationDelay:"0.1s"},children:[e.jsx("span",{className:"text-sm",children:"📊"}),e.jsx("span",{className:"text-sm font-medium",children:"Analytics"})]}),e.jsxs("button",{onClick:()=>{B(!$),F(!1)},className:"flex items-center gap-2 bg-red-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-red-700 transition-all animate-slideInUp",style:{animationDelay:"0.2s"},children:[e.jsx("span",{className:"text-sm",children:"🔴"}),e.jsx("span",{className:"text-sm font-medium",children:"Live"})]}),e.jsxs("button",{onClick:()=>{Z(!_),F(!1)},className:"flex items-center gap-2 bg-yellow-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-yellow-700 transition-all animate-slideInUp",style:{animationDelay:"0.3s"},children:[e.jsx("span",{className:"text-sm",children:"⚖️"}),e.jsx("span",{className:"text-sm font-medium",children:"Vergleich"})]}),e.jsxs("button",{onClick:()=>{ne(L),F(!1)},className:"flex items-center gap-2 bg-green-600 text-white px-4 py-3 rounded-full shadow-lg hover:bg-green-700 transition-all animate-slideInUp",style:{animationDelay:"0.4s"},children:[e.jsx("span",{className:"text-sm",children:"📤"}),e.jsx("span",{className:"text-sm font-medium",children:"Export"})]})]}),e.jsx("button",{onClick:()=>F(!C),className:`
              w-14 h-14 bg-blue-600 text-white rounded-full shadow-xl hover:bg-blue-700 
              transition-all duration-300 flex items-center justify-center
              hover:scale-110 active:scale-95
              ${C?"rotate-45":"rotate-0"}
            `,children:e.jsx("span",{className:"text-2xl",children:C?"✕":"⚡"})})]})})]});function ne(t){if(!t||t.length===0){alert("Keine Spiele zum Exportieren vorhanden");return}const l=t.map(x=>({Datum:x.date,TeamA:x.teama||"AEK",ToreA:x.goalsa||0,TeamB:x.teamb||"Real",ToreB:x.goalsb||0,SpielerDesSpiels:x.manofthematch||"",PreisgeldAEK:x.prizeaek||0,PreisgeldReal:x.prizereal||0,GelbeKartenAEK:x.yellowa||0,RotKartenAEK:x.reda||0,GelbeKartenReal:x.yellowb||0,RotKartenReal:x.redb||0})),r=[Object.keys(l[0]).join(","),...l.map(x=>Object.values(x).join(","))].join(`
`),s=new Blob([r],{type:"text/csv"}),K=window.URL.createObjectURL(s),h=document.createElement("a");h.href=K,h.download=`fifa-matches-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(h),h.click(),document.body.removeChild(h),window.URL.revokeObjectURL(K),alert("✅ Match-Daten erfolgreich exportiert!")}}export{ue as default};
